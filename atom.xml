<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mystra</title>
  <subtitle>Love magic for itself!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.wangchenlong.org/"/>
  <updated>2016-03-14T23:31:39.000Z</updated>
  <id>http://www.wangchenlong.org/</id>
  
  <author>
    <name>王辰龙</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vectors时代(1) - SVG 格式缩减应用图像</title>
    <link href="http://www.wangchenlong.org/2016/03/15/replace-svg-image/"/>
    <id>http://www.wangchenlong.org/2016/03/15/replace-svg-image/</id>
    <published>2016-03-14T23:01:00.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x65F6;&amp;#x4EE3;&amp;#x5728;&amp;#x53D1;&amp;#x5C55;, &amp;#x6280;&amp;#x672F;&amp;#x5728;&amp;#x8FDB;&amp;#x6B65;, Android&amp;#x7684;Vector&amp;#x56FE;&amp;#x50CF;&amp;#x7684;&amp;#x65F6;&amp;#x4EE3;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5230;&amp;#x6765;. &amp;#x5728;Google&amp;#x7684;&amp;#x6700;&amp;#x65B0;&amp;#x652F;&amp;#x6301;&amp;#x5E93;v23.2&amp;#x4E2D;, AppCompat&amp;#x7C7B;&amp;#x5DF2;&amp;#x7ECF;&amp;#x4F7F;&amp;#x7528;Vector&amp;#x56FE;&amp;#x50CF;, &amp;#x4F7F;&amp;#x5F97;AAR&amp;#x5305;&amp;#x51CF;&amp;#x5C11;9%, &amp;#x5927;&amp;#x7EA6;70KB, &amp;#x60E0;&amp;#x53CA;&amp;#x6240;&amp;#x6709;&amp;#x9AD8;&amp;#x7248;&amp;#x672C;&amp;#x7684;&amp;#x5E94;&amp;#x7528;. &amp;#x5F53;&amp;#x7136;&amp;#x6211;&amp;#x4EEC;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;Vector, &amp;#x7626;&amp;#x8EAB;&amp;#x5E94;&amp;#x7528;. Vector&amp;#x56FE;&amp;#x50CF;&amp;#x662F;SVG&amp;#x683C;&amp;#x5F0F;&amp;#x5728;Android&amp;#x7684;&amp;#x8868;&amp;#x73B0;&amp;#x5F62;&amp;#x5F0F;. SVG&amp;#x56FE;&amp;#x50CF;&amp;#x9002;&amp;#x5E94;&amp;#x5C4F;&amp;#x5E55;, &amp;#x56FE;&amp;#x7247;&amp;#x8F83;&amp;#x5C0F;, &amp;#x4F18;&amp;#x70B9;&amp;#x5F88;&amp;#x591A;, &lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%8F%AF%E7%B8%AE%E6%94%BE%E5%90%91%E9%87%8F%E5%9C%96%E5%BD%A2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&amp;#x5173;&amp;#x4E8E;&lt;em&gt;Vectors&amp;#x65F6;&amp;#x4EE3;&lt;/em&gt;, &amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x4E3A;&amp;#x4E24;&amp;#x8282;:&lt;br&gt;(1) &amp;#x4F7F;&amp;#x7528;SVG&amp;#x683C;&amp;#x5F0F;&amp;#x56FE;&amp;#x7247;&amp;#x751F;&amp;#x6210;Vector&amp;#x56FE;&amp;#x50CF;, &amp;#x66FF;&amp;#x6362;PNG, &amp;#x7F29;&amp;#x51CF;&amp;#x5E94;&amp;#x7528;&amp;#x4F53;&amp;#x79EF;.&lt;br&gt;(2) &amp;#x7ED8;&amp;#x5236;Vector&amp;#x56FE;&amp;#x50CF;&amp;#x7684;&amp;#x8DEF;&amp;#x5F84;&amp;#x52A8;&amp;#x753B;, &amp;#x5728;Android 5.0(21)&amp;#x4EE5;&amp;#x4E0A;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4F7F;&amp;#x7528;, &lt;a href=&quot;http://www.jianshu.com/p/89879989895a&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&amp;#x672C;&amp;#x6587;&amp;#x662F;&amp;#x7B2C;&amp;#x4E00;&amp;#x8282;, &amp;#x5173;&amp;#x4E8E;Vector&amp;#x56FE;&amp;#x50CF;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SVG: Scalable Vector Graphics, &amp;#x53EF;&amp;#x7F29;&amp;#x653E;&amp;#x77E2;&amp;#x91CF;&amp;#x56FE;&amp;#x5F62;.&lt;br&gt;IRI: Internationalized Resource Identifiers, &amp;#x56FD;&amp;#x9645;&amp;#x5316;&amp;#x8D44;&amp;#x6E90;&amp;#x6807;&amp;#x8BC6;&amp;#x7B26;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x672C;&amp;#x6587;&amp;#x6E90;&amp;#x7801;&amp;#x7684;GitHub&lt;a href=&quot;https://github.com/SpikeKing/TestSVG&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5730;&amp;#x5740;&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x8F7D;SVG&amp;#x683C;&amp;#x5F0F;&amp;#x7684;&amp;#x56FE;&amp;#x7247;.&lt;/p&gt;
&lt;p&gt;&amp;#x65B0;&amp;#x5EFA;&amp;#x9879;&amp;#x76EE;, &amp;#x7A7A;&amp;#x767D;&amp;#x9879;&amp;#x76EE;&amp;#x663E;&amp;#x793A;&amp;#x56FE;&amp;#x7247;.&lt;/p&gt;
&lt;p&gt;Android Studio 2.0&lt;br&gt;&amp;#x8DEF;&amp;#x5F84;: File -&amp;gt; New -&amp;gt; Vector Asset -&amp;gt; Local SVG file&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/15/replace-svg-image/svg-as.png&quot; alt=&quot;Load SVG&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x52FE;&amp;#x9009;&lt;strong&gt;&amp;#x91CD;&amp;#x7F6E;&amp;#x56FE;&amp;#x7247;&amp;#x5927;&amp;#x5C0F;&lt;/strong&gt;&amp;#x548C;&lt;strong&gt;&amp;#x5DE6;&amp;#x53F3;&amp;#x5E03;&amp;#x5C40;&amp;#x9002;&amp;#x914D;&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x5728;&lt;code&gt;drawable&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#x4E2D;, &amp;#x5C31;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&lt;code&gt;.xml&lt;/code&gt;&amp;#x683C;&amp;#x5F0F;&amp;#x7684;&amp;#x56FE;&amp;#x7247;.&lt;/p&gt;
&lt;p&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x5BFC;&amp;#x5165;&amp;#x56FE;&amp;#x7247;.&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ImageView&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;match_parent&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;match_parent&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:contentDescription&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@null&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/homer_simpson&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x663E;&amp;#x793A;&lt;br&gt;&lt;img src=&quot;/2016/03/15/replace-svg-image/svg-app.png&quot; alt=&quot;&amp;#x663E;&amp;#x793A;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x662F;&lt;code&gt;&amp;#x975E;AS2.0&lt;/code&gt;&amp;#x7248;&amp;#x672C;, &amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5728;&amp;#x7EBF;&amp;#x7F51;&amp;#x7AD9;&amp;#x8F6C;&amp;#x6362;.&lt;br&gt;&amp;#x7F51;&amp;#x5740;: &lt;a href=&quot;http://inloop.github.io/svg2android/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://inloop.github.io/svg2android/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x4F20;SVG&amp;#x56FE;&amp;#x7247;, &amp;#x751F;&amp;#x6210;&amp;#x4EE3;&amp;#x7801;.&lt;br&gt;&lt;img src=&quot;/2016/03/15/replace-svg-image/svg-online.png&quot; alt=&quot;Online&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x52FE;&amp;#x9009;&lt;strong&gt;&amp;#x5220;&amp;#x9664;&amp;#x7A7A;&amp;#x7EC4;&lt;/strong&gt;&amp;#x548C;&lt;strong&gt;&amp;#x6DFB;&amp;#x52A0;&amp;#x53D8;&amp;#x6362;&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5728;&amp;#x7EBF;&amp;#x56FE;&amp;#x7247;, &amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;code&gt;drawable&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#x4E2D;, &amp;#x521B;&amp;#x5EFA;&lt;code&gt;.xml&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;, &amp;#x7C98;&amp;#x8D34;&amp;#x4EE3;&amp;#x7801;.&lt;br&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E0E;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#x4F3C;, &amp;#x76F4;&amp;#x63A5;&amp;#x6DFB;&amp;#x52A0;&amp;#x5373;&amp;#x53EF;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x89C2;&amp;#x5BDF;&amp;#x53D1;&amp;#x73B0;, &amp;#x5747;&amp;#x662F;500x500&amp;#x7684;&amp;#x56FE;&amp;#x7247;:&lt;br&gt;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;SVG&amp;#x56FE;&amp;#x7247;&amp;#x662F;20KB, &amp;#x5728;&amp;#x7EBF;&amp;#x751F;&amp;#x6210;&amp;#x7684;SVG&amp;#x56FE;&amp;#x7247;&amp;#x662F;29KB.&lt;br&gt;&amp;#x800C;PNG(&amp;#x653E;&amp;#x5927;&amp;#x7684;&amp;#x7CFB;&amp;#x7EDF;&amp;#x56FE;&amp;#x7247;)&amp;#x8981;732KB, &amp;#x7531;&amp;#x6B64;&amp;#x5F97;&amp;#x77E5;SVG&amp;#x56FE;&amp;#x7247;&amp;#x8FD8;&amp;#x662F;&amp;#x975E;&amp;#x5E38;&amp;#x8282;&amp;#x7701;&amp;#x5185;&amp;#x5B58;&amp;#x7684;.&lt;br&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E00;&amp;#x4E9B;&amp;#x8F83;&amp;#x5927;&amp;#x7684;App, &amp;#x4F7F;&amp;#x7528;SVG&amp;#x56FE;&amp;#x7247;&amp;#x6709;&amp;#x5F88;&amp;#x5927;&amp;#x7684;&amp;#x5438;&amp;#x5F15;&amp;#x529B;.&lt;/p&gt;
&lt;p&gt;OK, that&amp;#x2019;s all! Enjoy it.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/15/replace-svg-image/&quot;&gt;http://www.wangchenlong.org/2016/03/15/replace-svg-image/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;. &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x65F6;&amp;#x4EE3;&amp;#x5728;&amp;#x53D1;&amp;#x5C55;, &amp;#x6280;&amp;#x672F;&amp;#x5728;&amp;#x8FDB;&amp;#x6B65;, Android&amp;#x7684;Vector&amp;#x56FE;&amp;#x50CF;&amp;#x7684;&amp;#x65F6;&amp;#x4EE3;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5230;&amp;#x6765;. &amp;#x5728;Google&amp;#x7684;&amp;#x6700;&amp;#x65B0;&amp;#x652F;&amp;#x6301;&amp;#x5E93;v23.2&amp;#x4E2D;, AppCompat&amp;#x7C7B;&amp;#x5DF2;&amp;#x7ECF;&amp;#x4F7F;&amp;#x7528;Vector&amp;#x56FE;&amp;#x50CF;, &amp;#x4F7F;&amp;#x5F97;AAR&amp;#x5305;&amp;#x51CF;&amp;#x5C11;9%, &amp;#x5927;&amp;#x7EA6;70KB, &amp;#x60E0;&amp;#x53CA;&amp;#x6240;&amp;#x6709;&amp;#x9AD8;&amp;#x7248;&amp;#x672C;&amp;#x7684;&amp;#x5E94;&amp;#x7528;. &amp;#x5F53;&amp;#x7136;&amp;#x6211;&amp;#x4EEC;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;Vector, &amp;#x7626;&amp;#x8EAB;&amp;#x5E94;&amp;#x7528;. Vector&amp;#x56FE;&amp;#x50CF;&amp;#x662F;SVG&amp;#x683C;&amp;#x5F0F;&amp;#x5728;Android&amp;#x7684;&amp;#x8868;&amp;#x73B0;&amp;#x5F62;&amp;#x5F0F;. SVG&amp;#x56FE;&amp;#x50CF;&amp;#x9002;&amp;#x5E94;&amp;#x5C4F;&amp;#x5E55;, &amp;#x56FE;&amp;#x7247;&amp;#x8F83;&amp;#x5C0F;, &amp;#x4F18;&amp;#x70B9;&amp;#x5F88;&amp;#x591A;, &lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%8F%AF%E7%B8%AE%E6%94%BE%E5%90%91%E9%87%8F%E5%9C%96%E5%BD%A2&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="应用" scheme="http://www.wangchenlong.org/tags/%E5%BA%94%E7%94%A8/"/>
    
      <category term="SVG" scheme="http://www.wangchenlong.org/tags/SVG/"/>
    
      <category term="Vector" scheme="http://www.wangchenlong.org/tags/Vector/"/>
    
      <category term="图像" scheme="http://www.wangchenlong.org/tags/%E5%9B%BE%E5%83%8F/"/>
    
      <category term="优化" scheme="http://www.wangchenlong.org/tags/%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>大型项目 Gradle 的常用库和版本管理</title>
    <link href="http://www.wangchenlong.org/2016/03/15/manage-gradle-lib-version/"/>
    <id>http://www.wangchenlong.org/2016/03/15/manage-gradle-lib-version/</id>
    <published>2016-03-14T22:44:00.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x968F;&amp;#x7740;Android&amp;#x5F00;&amp;#x53D1;&amp;#x7684;&amp;#x6210;&amp;#x719F;, &amp;#x6A21;&amp;#x5757;&amp;#x8D8A;&amp;#x6765;&amp;#x8D8A;&amp;#x591A;, &amp;#x5F15;&amp;#x5165;&amp;#x5E93;&amp;#x4E5F;&amp;#x968F;&amp;#x4E4B;&amp;#x589E;&amp;#x52A0;, &amp;#x9700;&amp;#x8981;&amp;#x7EDF;&amp;#x4E00;&amp;#x7BA1;&amp;#x7406;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5E93;&amp;#x548C;&amp;#x7248;&amp;#x672C;&amp;#x53F7;. &amp;#x6839;&amp;#x636E;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x7ECF;&amp;#x9A8C;, &amp;#x672C;&amp;#x6587;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4F7F;&amp;#x7528;Gradle&amp;#x53C2;&amp;#x6570;&amp;#x914D;&amp;#x7F6E;&amp;#x5B9E;&amp;#x73B0;&amp;#x5E93;&amp;#x7684;&amp;#x89C4;&amp;#x8303;&amp;#x7BA1;&amp;#x7406;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/15/manage-gradle-lib-version/manage-gradle.png&quot; alt=&quot;Gradle&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&lt;br&gt;(1) &amp;#x5E38;&amp;#x7528;&amp;#x5E93;&amp;#x7684;&amp;#x5C55;&amp;#x793A;&amp;#x4E0E;&amp;#x914D;&amp;#x7F6E;.&lt;br&gt;(2) &amp;#x7EDF;&amp;#x4E00;&amp;#x7BA1;&amp;#x7406;&amp;#x9879;&amp;#x76EE;&amp;#x548C;&amp;#x5E93;&amp;#x7684;&amp;#x7248;&amp;#x672C;.&lt;br&gt;(3) &amp;#x8BBE;&amp;#x7F6E;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x79C1;&amp;#x6709;&amp;#x53C2;&amp;#x6570;.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5E38;&amp;#x7528;&amp;#x5E93;&quot;&gt;&lt;a href=&quot;#&amp;#x5E38;&amp;#x7528;&amp;#x5E93;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5E38;&amp;#x7528;&amp;#x5E93;&quot;&gt;&lt;/a&gt;&amp;#x5E38;&amp;#x7528;&amp;#x5E93;&lt;/h1&gt;&lt;p&gt;&amp;#x7F16;&amp;#x7A0B;&amp;#x4E09;&amp;#x5251;&amp;#x5BA2;, RxJava+Retrofit+Dagger.&lt;br&gt;&amp;#x5E38;&amp;#x7528;: ButterKnife&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x89E3;, Glide/Picasso&amp;#x56FE;&amp;#x7247;&amp;#x5904;&amp;#x7406;.&lt;br&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x6839;&amp;#x9879;&amp;#x76EE;(rootProject)&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x7BA1;&amp;#x7406;&amp;#x5B50;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x7248;&amp;#x672C;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apply plugin: &lt;span class=&quot;string&quot;&gt;&amp;apos;me.tatarka.retrolambda&amp;apos;&lt;/span&gt;      &lt;span class=&quot;comment&quot;&gt;// Lambda&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apply plugin: &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.application&amp;apos;&lt;/span&gt;     &lt;span class=&quot;comment&quot;&gt;// Android&amp;#x5E94;&amp;#x7528;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apply plugin: &lt;span class=&quot;string&quot;&gt;&amp;apos;com.neenbedankt.android-apt&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x7F16;&amp;#x8BD1;&amp;#x65F6;&amp;#x7C7B;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apply plugin: &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.databinding&amp;apos;&lt;/span&gt;     &lt;span class=&quot;comment&quot;&gt;// &amp;#x6570;&amp;#x636E;&amp;#x7ED1;&amp;#x5B9A;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; cfg = rootProject.ext.configuration &lt;span class=&quot;comment&quot;&gt;// &amp;#x914D;&amp;#x7F6E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; libs = rootProject.ext.libraries &lt;span class=&quot;comment&quot;&gt;// &amp;#x5E93;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;android {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    compileSdkVersion cfg.compileVersion&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    buildToolsVersion cfg.buildToolsVersion&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    defaultConfig {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        applicationId cfg.&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        minSdkVersion cfg.minSdk&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        targetSdkVersion cfg.targetSdk&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        versionCode cfg.version_code&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        versionName cfg.version_name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buildConfigField &lt;span class=&quot;string&quot;&gt;&amp;quot;String&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;MARVEL_PUBLIC_KEY&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;\&amp;quot;${marvel_public_key}\&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buildConfigField &lt;span class=&quot;string&quot;&gt;&amp;quot;String&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;MARVEL_PRIVATE_KEY&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;\&amp;quot;${marvel_private_key}\&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    buildTypes {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        release {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            minifyEnabled &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            proguardFiles getDefaultProguardFile(&lt;span class=&quot;string&quot;&gt;&amp;apos;proguard-android.txt&amp;apos;&lt;/span&gt;), &lt;span class=&quot;string&quot;&gt;&amp;apos;proguard-rules.pro&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    compileOptions {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;sourceCompatibility&lt;/span&gt; JavaVersion.VERSION_1_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;targetCompatibility&lt;/span&gt; JavaVersion.VERSION_1_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6CE8;&amp;#x91CA;&amp;#x51B2;&amp;#x7A81;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    packagingOptions {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;exclude&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;META-INF/services/javax.annotation.processing.Processor&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;fileTree&lt;/span&gt;(dir: &lt;span class=&quot;string&quot;&gt;&amp;apos;libs&amp;apos;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;include&lt;/span&gt;: [&lt;span class=&quot;string&quot;&gt;&amp;apos;*.jar&amp;apos;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    testCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;junit:junit:4.12&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Android&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.android.support:design:${libs.supportVersion}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.android.support:appcompat-v7:${libs.supportVersion}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.android.support:cardview-v7:${libs.supportVersion}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.android.support:recyclerview-v7:${libs.supportVersion}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.android.support:palette-v7:${libs.supportVersion}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Retrofit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.squareup.retrofit:retrofit:${libs.retrofit}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.squareup.retrofit:converter-gson:${libs.retrofit}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.squareup.retrofit:adapter-rxjava:${libs.retrofit}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ReactiveX&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;io.reactivex:rxjava:${libs.rxandroid}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;io.reactivex:rxandroid:${libs.rxandroid}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Dagger&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.google.dagger:dagger:${libs.dagger}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    apt &lt;span class=&quot;string&quot;&gt;&amp;quot;com.google.dagger:dagger-compiler:${libs.dagger}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;org.glassfish:javax.annotation:${libs.javax_annotation}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Others&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.jakewharton:butterknife:${libs.butterknife}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x8D44;&amp;#x6E90;&amp;#x6CE8;&amp;#x5165;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.github.bumptech.glide:glide:${libs.glide}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x56FE;&amp;#x7247;&amp;#x5904;&amp;#x7406;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;jp.wasabeef:recyclerview-animators:${libs.recycler_animators}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Recycler&amp;#x52A8;&amp;#x753B;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;de.hdodenhof:circleimageview:${libs.circleimageview}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x5934;&amp;#x50CF;&amp;#x89C6;&amp;#x56FE;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x9879;&amp;#x76EE;&amp;#x7248;&amp;#x672C;:&lt;br&gt;def cfg = rootProject.ext.configuration&lt;br&gt;cfg.compileVersion&lt;br&gt;&amp;#x5E93;&amp;#x7248;&amp;#x672C;:&lt;br&gt;def libs = rootProject.ext.libraries&lt;br&gt;${libs.retrofit}&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x53C2;&amp;#x6570;&amp;#x7BA1;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x6570;&amp;#x7BA1;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x6570;&amp;#x7BA1;&amp;#x7406;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x6570;&amp;#x7BA1;&amp;#x7406;&lt;/h1&gt;&lt;p&gt;buildConfigField&amp;#x7BA1;&amp;#x7406;&amp;#x79C1;&amp;#x6709;&amp;#x53C2;&amp;#x6570;, &amp;#x914D;&amp;#x7F6E;&amp;#x5728;gradle.properties&amp;#x91CC;&amp;#x9762;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;android {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    defaultConfig {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buildConfigField &lt;span class=&quot;string&quot;&gt;&amp;quot;String&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;MARVEL_PUBLIC_KEY&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;\&amp;quot;${marvel_public_key}\&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buildConfigField &lt;span class=&quot;string&quot;&gt;&amp;quot;String&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;MARVEL_PRIVATE_KEY&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;\&amp;quot;${marvel_private_key}\&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&lt;strong&gt;&amp;#x7C7B;&amp;#x578B;\&amp;#x53D8;&amp;#x91CF;&amp;#x540D;\&amp;#x4F4D;&amp;#x7F6E;&lt;/strong&gt;&amp;#x4E09;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;marvel_public_key   = &lt;span class=&quot;number&quot;&gt;74129&lt;/span&gt;ef99c9fd5f7692608f17abb88f9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;marvel_private_key  = &lt;span class=&quot;number&quot;&gt;281&lt;/span&gt;eb4f077e191f7863a11620fa1865f2940ebeb&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x672A;&amp;#x6307;&amp;#x5B9A;&amp;#x8DEF;&amp;#x5F84;, &amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;&amp;#x914D;&amp;#x7F6E;&amp;#x5728;&lt;strong&gt;gradle.properties&lt;/strong&gt;&amp;#x4E2D;.&lt;br&gt;&amp;#x4E24;&amp;#x4E2A;&amp;#x5730;&amp;#x65B9;&amp;#x53EF;&amp;#x4EE5;&amp;#x914D;&amp;#x7F6E;&amp;#x53C2;&amp;#x6570;, &amp;#x4E00;&amp;#x4E2A;&amp;#x662F;&amp;#x9879;&amp;#x76EE;&amp;#x7684;build.gradle, &amp;#x4E00;&amp;#x4E2A;&amp;#x662F;gradle.properties.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;BuildConfig.xxx&lt;/strong&gt;&amp;#x5F15;&amp;#x5165;&amp;#x53C2;&amp;#x6570;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;MarvelSigningIterceptor signingIterceptor = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MarvelSigningIterceptor(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        BuildConfig.MARVEL_PUBLIC_KEY, BuildConfig.MARVEL_PRIVATE_KEY);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x7248;&amp;#x672C;&amp;#x7BA1;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#&amp;#x7248;&amp;#x672C;&amp;#x7BA1;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7248;&amp;#x672C;&amp;#x7BA1;&amp;#x7406;&quot;&gt;&lt;/a&gt;&amp;#x7248;&amp;#x672C;&amp;#x7BA1;&amp;#x7406;&lt;/h1&gt;&lt;p&gt;&amp;#x7248;&amp;#x672C;&amp;#x7BA1;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x7684;build.gradle&amp;#x4E2D;, &amp;#x5305;&amp;#x542B;&amp;#x4E24;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;, &amp;#x4E00;&amp;#x4E2A;&amp;#x662F;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x7248;&amp;#x672C;, &amp;#x4E00;&amp;#x4E2A;&amp;#x662F;&amp;#x5E93;&amp;#x7684;&amp;#x7248;&amp;#x672C;. &amp;#x628A;&amp;#x5E38;&amp;#x7528;&amp;#x53C2;&amp;#x6570;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6210;&amp;#x4E3A;&amp;#x53D8;&amp;#x91CF;. &amp;#x5B50;&amp;#x9879;&amp;#x76EE;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;rootProject.ext.xxx&lt;/strong&gt;&amp;#x7684;&amp;#x5F62;&amp;#x5F0F;&amp;#x5F15;&amp;#x5165;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ext {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    configuration = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt;          : &lt;span class=&quot;string&quot;&gt;&amp;quot;me.chunyu.spike.springrainnews&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            buildToolsVersion: &lt;span class=&quot;string&quot;&gt;&amp;quot;23.0.1&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            compileVersion   : &lt;span class=&quot;number&quot;&gt;23&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            minSdk           : &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            targetSdk        : &lt;span class=&quot;number&quot;&gt;23&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            version_code     : &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            version_name     : &lt;span class=&quot;string&quot;&gt;&amp;quot;0.0.1&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    libraries = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            supportVersion    : &lt;span class=&quot;string&quot;&gt;&amp;quot;23.1.1&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            retrofit          : &lt;span class=&quot;string&quot;&gt;&amp;quot;2.0.0-beta2&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            rxandroid         : &lt;span class=&quot;string&quot;&gt;&amp;quot;1.1.0&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            dagger            : &lt;span class=&quot;string&quot;&gt;&amp;quot;2.0&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            javax_annotation  : &lt;span class=&quot;string&quot;&gt;&amp;quot;10.0-b28&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            butterknife       : &lt;span class=&quot;string&quot;&gt;&amp;quot;7.0.1&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            glide             : &lt;span class=&quot;string&quot;&gt;&amp;quot;3.6.1&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            recycler_animators: &lt;span class=&quot;string&quot;&gt;&amp;quot;2.1.0&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            circleimageview   : &lt;span class=&quot;string&quot;&gt;&amp;quot;2.0.0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;buildscript&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;repositories&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        jcenter()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;classpath&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.tools.build:gradle:2.0.0-alpha5&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;classpath&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.neenbedankt.gradle.plugins:android-apt:1.8&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;classpath&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;me.tatarka:gradle-retrolambda:3.2.4&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;classpath&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.databinding:dataBinder:1.0-rc4&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;allprojects&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;repositories&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        jcenter()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;task&lt;/span&gt; clean(type: &lt;span class=&quot;keyword&quot;&gt;Delete&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;delete&lt;/span&gt; rootProject.buildDir&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x8865;&amp;#x5145;&quot;&gt;&lt;a href=&quot;#&amp;#x8865;&amp;#x5145;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8865;&amp;#x5145;&quot;&gt;&lt;/a&gt;&amp;#x8865;&amp;#x5145;&lt;/h1&gt;&lt;p&gt;Retrolambda&amp;#x7684;&amp;#x6700;&amp;#x65B0;&amp;#x914D;&amp;#x7F6E;&amp;#x65B9;&amp;#x5F0F;&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;plugins {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  id &lt;span class=&quot;string&quot;&gt;&amp;quot;me.tatarka.retrolambda&amp;quot;&lt;/span&gt; version &lt;span class=&quot;string&quot;&gt;&amp;quot;3.2.5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;android {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  compileOptions {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;sourceCompatibility&lt;/span&gt; JavaVersion.VERSION_1_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;targetCompatibility&lt;/span&gt; JavaVersion.VERSION_1_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x5F0F;&amp;#x8BBE;&amp;#x7F6E;Android&amp;#x9879;&amp;#x76EE;&amp;#x7684;Gradle&amp;#x914D;&amp;#x7F6E;, &amp;#x53EF;&amp;#x4EE5;&amp;#x4FBF;&amp;#x6377;&amp;#x5730;&amp;#x4FEE;&amp;#x6539;&amp;#x5E93;&amp;#x7684;&amp;#x7248;&amp;#x672C;&amp;#x53F7;, &amp;#x7EDF;&amp;#x4E00;&amp;#x7BA1;&amp;#x7406;&amp;#x5E76;&amp;#x63A7;&amp;#x5236;&amp;#x98CE;&amp;#x9669;.&lt;/p&gt;
&lt;p&gt;OK, that&amp;#x2019;s all! Enjoy it!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/15/manage-gradle-lib-version/&quot;&gt;http://www.wangchenlong.org/2016/03/15/manage-gradle-lib-version/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;, &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x968F;&amp;#x7740;Android&amp;#x5F00;&amp;#x53D1;&amp;#x7684;&amp;#x6210;&amp;#x719F;, &amp;#x6A21;&amp;#x5757;&amp;#x8D8A;&amp;#x6765;&amp;#x8D8A;&amp;#x591A;, &amp;#x5F15;&amp;#x5165;&amp;#x5E93;&amp;#x4E5F;&amp;#x968F;&amp;#x4E4B;&amp;#x589E;&amp;#x52A0;, &amp;#x9700;&amp;#x8981;&amp;#x7EDF;&amp;#x4E00;&amp;#x7BA1;&amp;#x7406;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5E93;&amp;#x548C;&amp;#x7248;&amp;#x672C;&amp;#x53F7;. &amp;#x6839;&amp;#x636E;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x7ECF;&amp;#x9A8C;, &amp;#x672C;&amp;#x6587;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4F7F;&amp;#x7528;Gradle&amp;#x53C2;&amp;#x6570;&amp;#x914D;&amp;#x7F6E;&amp;#x5B9E;&amp;#x73B0;&amp;#x5E93;&amp;#x7684;&amp;#x89C4;&amp;#x8303;&amp;#x7BA1;&amp;#x7406;.&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="项目" scheme="http://www.wangchenlong.org/tags/%E9%A1%B9%E7%9B%AE/"/>
    
      <category term="Gradle" scheme="http://www.wangchenlong.org/tags/Gradle/"/>
    
      <category term="库" scheme="http://www.wangchenlong.org/tags/%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>加速 Gradle 构建大型 Android 项目的方法</title>
    <link href="http://www.wangchenlong.org/2016/03/14/improve-gradle-speed/"/>
    <id>http://www.wangchenlong.org/2016/03/14/improve-gradle-speed/</id>
    <published>2016-03-14T12:38:00.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;Gradle&amp;#x662F;&amp;#x6784;&amp;#x5EFA;Android&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x6709;&amp;#x529B;&amp;#x5DE5;&amp;#x5177;, &amp;#x7136;&amp;#x800C;&amp;#x5F53;&amp;#x9879;&amp;#x76EE;&amp;#x6BD4;&amp;#x8F83;&amp;#x5927;&amp;#x65F6;, &amp;#x5C31;&amp;#x4F1A;&amp;#x975E;&amp;#x5E38;&amp;#x7F13;&amp;#x6162;, &amp;#x9700;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;&amp;#x4F18;&amp;#x5316;. &amp;#x672C;&amp;#x6587;&amp;#x4E3B;&amp;#x8981;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5173;&amp;#x4E8E;&amp;#x4F18;&amp;#x5316;Gradle&amp;#x8FD0;&amp;#x884C;&amp;#x901F;&amp;#x5EA6;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/improve-gradle-speed/gradle-speed.png&quot; alt=&quot;Gradle&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5347;&amp;#x7EA7;gradle&quot;&gt;&lt;a href=&quot;#&amp;#x5347;&amp;#x7EA7;gradle&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5347;&amp;#x7EA7;gradle&quot;&gt;&lt;/a&gt;&amp;#x5347;&amp;#x7EA7;gradle&lt;/h1&gt;&lt;p&gt;&amp;#x8FDB;&amp;#x5165;&amp;#x9879;&amp;#x76EE;&amp;#x6587;&amp;#x4EF6;&amp;#x5939;, &amp;#x4F7F;&amp;#x7528;&amp;#x6700;&amp;#x65B0;&amp;#x7684;gradle. &amp;#x4FEE;&amp;#x6539;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$project/gradle/wrapper/gradle-wrapper.properties&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x66FF;&amp;#x6362;&amp;#x4E3A;&amp;#x6700;&amp;#x65B0;.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;distributionUrl=https\://services.gradle.org/distributions/gradle-2.9-all.zip&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5347;&amp;#x7EA7;gradle&amp;#x63D2;&amp;#x4EF6;-plugin&quot;&gt;&lt;a href=&quot;#&amp;#x5347;&amp;#x7EA7;gradle&amp;#x63D2;&amp;#x4EF6;-plugin&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5347;&amp;#x7EA7;gradle&amp;#x63D2;&amp;#x4EF6;(plugin)&quot;&gt;&lt;/a&gt;&amp;#x5347;&amp;#x7EA7;gradle&amp;#x63D2;&amp;#x4EF6;(plugin)&lt;/h1&gt;&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x6700;&amp;#x65B0;&amp;#x7684;gradle&amp;#x4F9D;&amp;#x8D56;.&lt;/p&gt;
&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;buildscrpt {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;classpath&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.tools.build:gradle:1.5.0&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5F00;&amp;#x53D1;&amp;#x6700;&amp;#x4F4E;SDK&amp;#x7248;&amp;#x672C;&quot;&gt;&lt;a href=&quot;#&amp;#x8BBE;&amp;#x7F6E;&amp;#x5F00;&amp;#x53D1;&amp;#x6700;&amp;#x4F4E;SDK&amp;#x7248;&amp;#x672C;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5F00;&amp;#x53D1;&amp;#x6700;&amp;#x4F4E;SDK&amp;#x7248;&amp;#x672C;&quot;&gt;&lt;/a&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5F00;&amp;#x53D1;&amp;#x6700;&amp;#x4F4E;SDK&amp;#x7248;&amp;#x672C;&lt;/h1&gt;&lt;p&gt;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;&amp;#x65F6;, &amp;#x4F7F;&amp;#x7528;&amp;#x6700;&amp;#x4F4E;sdk&amp;#x7248;&amp;#x672C;&amp;#x7684;&amp;#x63D0;&amp;#x5347;&amp;#x81F3;21.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;android {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  productFlavors {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dev {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        minSdkVersion &lt;span class=&quot;number&quot;&gt;21&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    prod {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        minSdkVersion &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x9879;&amp;#x76EE;&amp;#x751F;&amp;#x6210;apk&amp;#x5305;&amp;#x5206;&amp;#x4E3A;&amp;#x4E24;&amp;#x6B65;, &amp;#x7B2C;&amp;#x4E00;&amp;#x6B65;&amp;#x8F6C;&amp;#x6362;dex, &amp;#x7B2C;&amp;#x4E8C;&amp;#x6B65;&amp;#x5408;&amp;#x6210;dex, &amp;#x4F46;&amp;#x662F;&amp;#x7248;&amp;#x672C;21+&amp;#x4F7F;&amp;#x7528;Android&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;(&lt;a href=&quot;https://en.wikipedia.org/wiki/Android_Runtime&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Runtime&lt;/a&gt;)&amp;#x751F;&amp;#x6210;apk, &amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x5408;&amp;#x5E76;dex, &amp;#x6240;&amp;#x4EE5;&amp;#x901F;&amp;#x5EA6;&amp;#x52A0;&amp;#x5FEB;, &amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x89E3;&amp;#x51B3;&lt;a href=&quot;http://developer.android.com/intl/ko/tools/building/multidex.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;65K&amp;#x65B9;&amp;#x6CD5;&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x6DFB;&amp;#x52A0;gradle&amp;#x5C5E;&amp;#x6027;&quot;&gt;&lt;a href=&quot;#&amp;#x6DFB;&amp;#x52A0;gradle&amp;#x5C5E;&amp;#x6027;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6DFB;&amp;#x52A0;gradle&amp;#x5C5E;&amp;#x6027;&quot;&gt;&lt;/a&gt;&amp;#x6DFB;&amp;#x52A0;gradle&amp;#x5C5E;&amp;#x6027;&lt;/h1&gt;&lt;p&gt;&amp;#x4FEE;&amp;#x6539;&lt;code&gt;gradle.properties&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;org.gradle.daemon=&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;org.gradle.parallel=&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;org.gradle.jvmargs=-Xmx768m&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x4F7F;&amp;#x7528;&amp;#x9012;&amp;#x589E;&amp;#x7684;dex&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;&amp;#x9012;&amp;#x589E;&amp;#x7684;dex&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;&amp;#x9012;&amp;#x589E;&amp;#x7684;dex&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x9012;&amp;#x589E;&amp;#x7684;dex&lt;/h1&gt;&lt;p&gt;&amp;#x589E;&amp;#x52A0;dex&amp;#x7684;&amp;#x5BB9;&amp;#x91CF;. &lt;a href=&quot;http://stackoverflow.com/questions/25006075/extremely-long-build-with-gradle-android-studio&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;dexOptions {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    incremental &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x9879;&amp;#x76EE;&amp;#x6784;&amp;#x5EFA;&amp;#x8FC7;&amp;#x6162;, &amp;#x5C31;&amp;#x6839;&amp;#x636E;&amp;#x5B9E;&amp;#x9645;&amp;#x60C5;&amp;#x51B5;, &amp;#x9009;&amp;#x62E9;&amp;#x4F18;&amp;#x5316;Gradle&amp;#x7684;&amp;#x7EC4;&amp;#x5408;&amp;#x65B9;&amp;#x5F0F;&amp;#x5427;.&lt;/p&gt;
&lt;p&gt;OK, That&amp;#x2019;s all! Enjoy It!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/14/improve-gradle-speed/&quot;&gt;http://www.wangchenlong.org/2016/03/14/improve-gradle-speed/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;. &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;Gradle&amp;#x662F;&amp;#x6784;&amp;#x5EFA;Android&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x6709;&amp;#x529B;&amp;#x5DE5;&amp;#x5177;, &amp;#x7136;&amp;#x800C;&amp;#x5F53;&amp;#x9879;&amp;#x76EE;&amp;#x6BD4;&amp;#x8F83;&amp;#x5927;&amp;#x65F6;, &amp;#x5C31;&amp;#x4F1A;&amp;#x975E;&amp;#x5E38;&amp;#x7F13;&amp;#x6162;, &amp;#x9700;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;&amp;#x4F18;&amp;#x5316;. &amp;#x672C;&amp;#x6587;&amp;#x4E3B;&amp;#x8981;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5173;&amp;#x4E8E;&amp;#x4F18;&amp;#x5316;Gradle&amp;#x8FD0;&amp;#x884C;&amp;#x901F;&amp;#x5EA6;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;.&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="项目" scheme="http://www.wangchenlong.org/tags/%E9%A1%B9%E7%9B%AE/"/>
    
      <category term="Gradle" scheme="http://www.wangchenlong.org/tags/Gradle/"/>
    
      <category term="加速" scheme="http://www.wangchenlong.org/tags/%E5%8A%A0%E9%80%9F/"/>
    
  </entry>
  
  <entry>
    <title>使用 MAT 分析应用的内存信息</title>
    <link href="http://www.wangchenlong.org/2016/03/14/use-mat-analyze-memory/"/>
    <id>http://www.wangchenlong.org/2016/03/14/use-mat-analyze-memory/</id>
    <published>2016-03-14T11:57:00.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.eclipse.org/mat/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;MAT(Memory Analyzer Tool)&lt;/strong&gt;&lt;/a&gt;, &amp;#x662F;&amp;#x8457;&amp;#x540D;&amp;#x7684;Android&amp;#x5185;&amp;#x5B58;&amp;#x5206;&amp;#x6790;&amp;#x5DE5;&amp;#x5177;, &amp;#x867D;&amp;#x7136;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/14/use-leak-canary-check-memory/&quot;&gt;LeakCanary&lt;/a&gt;&amp;#x66F4;&amp;#x52A0;&amp;#x4FBF;&amp;#x6377;, &amp;#x4F46;&amp;#x662F;MAT&amp;#x53EF;&amp;#x4EE5;&amp;#x6E05;&amp;#x695A;&amp;#x5730;&amp;#x83B7;&amp;#x77E5;&amp;#x6574;&amp;#x4F53;&amp;#x5185;&amp;#x5B58;&amp;#x4F7F;&amp;#x7528;&amp;#x60C5;&amp;#x51B5;, &amp;#x8FD8;&amp;#x662F;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x638C;&amp;#x63E1;&amp;#x7684;. &amp;#x6211;&amp;#x6765;&amp;#x8BB2;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5185;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&quot;&gt;&lt;a href=&quot;#&amp;#x5185;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5185;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&quot;&gt;&lt;/a&gt;&amp;#x5185;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&lt;/h1&gt;&lt;p&gt;&amp;#x4F7F;&amp;#x7528;Android Studio&amp;#x5E95;&amp;#x90E8;&amp;#x7684;AndroidMonitor, &amp;#x83B7;&amp;#x53D6;&amp;#x5185;&amp;#x5B58;&amp;#x7247;&amp;#x6BB5;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x70B9;&amp;#x51FB;&lt;strong&gt;Initial GC&lt;/strong&gt;&amp;#x56DE;&amp;#x6536;&amp;#x5185;&amp;#x5B58;, &amp;#x4F7F;&amp;#x7528;&amp;#x5E94;&amp;#x7528;, &lt;strong&gt;Dump Java Heap&lt;/strong&gt;, &amp;#x518D;&amp;#x6B21;&amp;#x70B9;&amp;#x51FB;&amp;#x505C;&amp;#x6B62;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-mat-analyze-memory/mat-leak.png&quot; alt=&quot;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;Android&amp;#x7684;SDK&amp;#x4E2D;&amp;#x7684;platform-tools&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#x5185;, &lt;strong&gt;hprof-conv&lt;/strong&gt;&amp;#x811A;&amp;#x672C;&amp;#x628A;AS&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x683C;&amp;#x5F0F;&amp;#x8F6C;&amp;#x6362;&amp;#x4E3A;MAT&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x683C;&amp;#x5F0F;. &amp;#x4E4B;&amp;#x540E;, &amp;#x4F7F;&amp;#x7528;MAT&amp;#x6253;&amp;#x5F00;&amp;#x6587;&amp;#x4EF6;.&lt;/p&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x547D;&amp;#x4EE4;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./hprof-conv path/file.hprof exitPath/heap-converted.hprof&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5206;&amp;#x6790;&amp;#x5185;&amp;#x5B58;&quot;&gt;&lt;a href=&quot;#&amp;#x5206;&amp;#x6790;&amp;#x5185;&amp;#x5B58;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5206;&amp;#x6790;&amp;#x5185;&amp;#x5B58;&quot;&gt;&lt;/a&gt;&amp;#x5206;&amp;#x6790;&amp;#x5185;&amp;#x5B58;&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.eclipse.org/mat/downloads.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x4E0B;&amp;#x8F7D;&lt;/a&gt;Eclipse&amp;#x7684;MAT&amp;#x5DE5;&amp;#x5177;. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x867D;&amp;#x7136;&amp;#x662F;Eclipse&amp;#x7684;&amp;#x5DE5;&amp;#x5177;, &amp;#x4F46;&amp;#x662F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5355;&amp;#x72EC;&amp;#x8FD0;&amp;#x884C;, &amp;#x5E76;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x5B89;&amp;#x88C5;Eclipse.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x6253;&amp;#x5F00;&amp;#x5185;&amp;#x5B58;&amp;#x7247;&amp;#x6BB5;, &amp;#x9009;&amp;#x62E9;&amp;#x5185;&amp;#x5B58;&amp;#x62A5;&amp;#x544A;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-mat-analyze-memory/mat-report.png&quot; alt=&quot;&amp;#x5185;&amp;#x5B58;&amp;#x62A5;&amp;#x544A;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5185;&amp;#x5B58;&amp;#x6574;&amp;#x4F53;&amp;#x60C5;&amp;#x51B5;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-mat-analyze-memory/mat-total.png&quot; alt=&quot;&amp;#x5185;&amp;#x5B58;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x9009;&amp;#x62E9;&amp;#x76F4;&amp;#x65B9;&amp;#x56FE;&amp;#x6837;&amp;#x5F0F;, &amp;#x6DFB;&amp;#x52A0;&amp;#x5305;&amp;#x540D;&amp;#x8FC7;&amp;#x6EE4;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-mat-analyze-memory/mat-memory-1.png&quot; alt=&quot;&amp;#x5F15;&amp;#x7528;&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5224;&amp;#x65AD;&amp;#x6CC4;&amp;#x9732;&quot;&gt;&lt;a href=&quot;#&amp;#x5224;&amp;#x65AD;&amp;#x6CC4;&amp;#x9732;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5224;&amp;#x65AD;&amp;#x6CC4;&amp;#x9732;&quot;&gt;&lt;/a&gt;&amp;#x5224;&amp;#x65AD;&amp;#x6CC4;&amp;#x9732;&lt;/h1&gt;&lt;p&gt;Activity&amp;#x6216;View&amp;#x5927;&amp;#x4E8E;1&amp;#x4E2A;&amp;#x5BF9;&amp;#x8C61;, &amp;#x90FD;&amp;#x6709;&amp;#x53EF;&amp;#x80FD;&amp;#x53D1;&amp;#x751F;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;.&lt;/p&gt;
&lt;p&gt;&amp;#x663E;&amp;#x793A;&amp;#x5185;&amp;#x5B58;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x5F15;&amp;#x7528;&amp;#x60C5;&amp;#x51B5;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-mat-analyze-memory/mat-memory-2.png&quot; alt=&quot;&amp;#x5F15;&amp;#x7528;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x9010;&amp;#x4E2A;&amp;#x5224;&amp;#x65AD;&amp;#x5373;&amp;#x53EF;, &amp;#x6709;&amp;#x4E9B;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x5F15;&amp;#x7528;&amp;#x8F83;&amp;#x591A;, &amp;#x53EF;&amp;#x80FD;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x6570;&amp;#x7EC4;, &amp;#x5E76;&amp;#x4E0D;&amp;#x4E00;&amp;#x5B9A;&amp;#x662F;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x663E;&amp;#x793A;&amp;#x5355;&amp;#x4E2A;&amp;#x7C7B;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x60C5;&amp;#x51B5;&lt;br&gt;&lt;img src=&quot;/2016/03/14/use-mat-analyze-memory/mat-memory-3.png&quot; alt=&quot;&amp;#x5185;&amp;#x5B58;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x641C;&amp;#x7D22;&amp;#x529F;&amp;#x80FD;, &amp;#x8F93;&amp;#x5165;SQL&amp;#x8BED;&amp;#x53E5;, &amp;#x5E76;&amp;#x6267;&amp;#x884C;. &amp;#x7EA2;&amp;#x8272;&amp;#x53F9;&amp;#x53F7;&amp;#x6267;&amp;#x884C;&amp;#x641C;&amp;#x7D22;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x89C2;&amp;#x5BDF;, &amp;#x6211;&amp;#x4EEC;&amp;#x53D1;&amp;#x73B0;&amp;#x5FAE;&amp;#x4FE1;mWXApi&amp;#x4F20;&amp;#x5165;&amp;#x4E86;&amp;#x9519;&amp;#x8BEF;&amp;#x7684;Context, &amp;#x5BFC;&amp;#x81F4;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-mat-analyze-memory/mat-memory-4.png&quot; alt=&quot;&amp;#x6CC4;&amp;#x9732;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4EE3;&amp;#x7801;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mFriendsPlatform = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; WXSharePlatform(mActivity, title, content,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        bitmap, pageUrl, SendMessageToWX.Req.WXSceneTimeline);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x4F20;&amp;#x5165;Activity&amp;#x5BFC;&amp;#x81F4;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;, &amp;#x4FEE;&amp;#x6539;&amp;#x4E3A;getApplicationContext&amp;#x5373;&amp;#x53EF;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x8FD8;&amp;#x6BD4;&amp;#x8F83;&amp;#x590D;&amp;#x6742;, &amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;LeakCanary, &lt;a href=&quot;http://www.wangchenlong.org/2016/03/14/use-leak-canary-check-memory/&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;OK, that&amp;#x2019;s all! Enjoy it!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/14/use-mat-analyze-memory/&quot;&gt;http://www.wangchenlong.org/2016/03/14/use-mat-analyze-memory/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;. &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://www.eclipse.org/mat/&quot;&gt;&lt;strong&gt;MAT(Memory Analyzer Tool)&lt;/strong&gt;&lt;/a&gt;, &amp;#x662F;&amp;#x8457;&amp;#x540D;&amp;#x7684;Android&amp;#x5185;&amp;#x5B58;&amp;#x5206;&amp;#x6790;&amp;#x5DE5;&amp;#x5177;, &amp;#x867D;&amp;#x7136;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/14/use-leak-canary-check-memory/&quot;&gt;LeakCanary&lt;/a&gt;&amp;#x66F4;&amp;#x52A0;&amp;#x4FBF;&amp;#x6377;, &amp;#x4F46;&amp;#x662F;MAT&amp;#x53EF;&amp;#x4EE5;&amp;#x6E05;&amp;#x695A;&amp;#x5730;&amp;#x83B7;&amp;#x77E5;&amp;#x6574;&amp;#x4F53;&amp;#x5185;&amp;#x5B58;&amp;#x4F7F;&amp;#x7528;&amp;#x60C5;&amp;#x51B5;, &amp;#x8FD8;&amp;#x662F;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x638C;&amp;#x63E1;&amp;#x7684;. &amp;#x6211;&amp;#x6765;&amp;#x8BB2;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;.&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="应用" scheme="http://www.wangchenlong.org/tags/%E5%BA%94%E7%94%A8/"/>
    
      <category term="内存" scheme="http://www.wangchenlong.org/tags/%E5%86%85%E5%AD%98/"/>
    
      <category term="MAT" scheme="http://www.wangchenlong.org/tags/MAT/"/>
    
  </entry>
  
  <entry>
    <title>使用 Leak Canary 检测应用的内存泄露</title>
    <link href="http://www.wangchenlong.org/2016/03/14/use-leak-canary-check-memory/"/>
    <id>http://www.wangchenlong.org/2016/03/14/use-leak-canary-check-memory/</id>
    <published>2016-03-14T06:23:00.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/square/leakcanary&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;LeakCanary&lt;/a&gt;&amp;#x662F;&amp;#x68C0;&amp;#x6D4B;&amp;#x5E94;&amp;#x7528;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x7684;&amp;#x5DE5;&amp;#x5177;, &amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x662F;Android&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x5E38;&amp;#x89C1;&amp;#x7684;&amp;#x95EE;&amp;#x9898;, &amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x7A33;&amp;#x5B9A;&amp;#x6027;&amp;#x4E0B;&amp;#x964D;. &amp;#x672C;&amp;#x6587;&amp;#x4ECB;&amp;#x7ECD;LeakCanary&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x5F0F;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x610F;: &amp;#x96C6;&amp;#x6210;&amp;#x5230;&amp;#x4F4E;&amp;#x7248;&amp;#x672C;&amp;#x5E94;&amp;#x7528;, &amp;#x4F1A;&amp;#x62A5;&amp;#x51FA;Bug.&lt;br&gt;Error:(2) Error retrieving parent for item: No resource found that matches the given name &amp;#x2018;android:Theme.Material&amp;#x2019;.&lt;br&gt;&amp;#x4FEE;&amp;#x6539;&amp;#x7F16;&amp;#x8BD1;&amp;#x7248;&amp;#x672C;: &lt;strong&gt;compileSdkVersion 21&lt;/strong&gt; &amp;#x5373;&amp;#x53EF;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x672C;&amp;#x6587;&amp;#x793A;&amp;#x4F8B;&amp;#x7684;Github&lt;a href=&quot;https://github.com/SpikeKing/wcl-leakcanary-demo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5730;&amp;#x5740;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-leak-canary-check-memory/leak_memory.png&quot; alt=&quot;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x539F;&amp;#x56E0;:&lt;br&gt;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x8F83;&amp;#x957F;&amp;#x7684;&amp;#x7C7B;&amp;#x4F7F;&amp;#x7528;Activity&amp;#x7684;Context, &amp;#x5BFC;&amp;#x81F4;Activity&amp;#x88AB;&amp;#x5F15;&amp;#x7528;, &amp;#x65E0;&amp;#x6CD5;&amp;#x88AB;&amp;#x53CA;&amp;#x65F6;&amp;#x56DE;&amp;#x6536;. &amp;#x9664;&amp;#x4E86;&amp;#x9700;&amp;#x8981;Activity&amp;#x9875;&amp;#x9762;&amp;#x652F;&amp;#x6301;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;&amp;#x7C7B;, &amp;#x5982;Dialog&amp;#x7B49;, &amp;#x5176;&amp;#x4ED6;&amp;#x5168;&amp;#x90E8;&amp;#x4F7F;&amp;#x7528;&amp;#x5E94;&amp;#x7528;&amp;#x7684;Context&amp;#x66FF;&amp;#x6362;Activity&amp;#x7684;Context, &amp;#x5373;Context.getApplicationContext(). &amp;#x8FD8;&amp;#x6709;&amp;#x5C31;&amp;#x662F;&amp;#x5355;&amp;#x4F8B;&amp;#x4E0D;&amp;#x8981;&amp;#x6301;&amp;#x6709;&amp;#x9875;&amp;#x9762;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;, &amp;#x5355;&amp;#x4F8B;&amp;#x6301;&amp;#x6709;&amp;#x63A7;&amp;#x4EF6;, &amp;#x63A7;&amp;#x4EF6;&amp;#x9644;&amp;#x5C5E;&amp;#x9875;&amp;#x9762;, &amp;#x6700;&amp;#x7EC8;&amp;#x9875;&amp;#x9762;&amp;#x5F97;&amp;#x4E0D;&amp;#x5230;&amp;#x91CA;&amp;#x653E;, &amp;#x5355;&amp;#x4F8B;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x56DE;&amp;#x8C03;&amp;#x4FEE;&amp;#x6539;&amp;#x9875;&amp;#x9762;, &amp;#x5185;&amp;#x90E8;&amp;#x4EC5;&amp;#x4EC5;&amp;#x4FDD;&amp;#x7559;&amp;#x5904;&amp;#x7406;&amp;#x6570;&amp;#x636E;&amp;#x90E8;&amp;#x5206;.&lt;/p&gt;
&lt;p&gt;LeakCanary&amp;#x53EF;&amp;#x4EE5;&amp;#x68C0;&amp;#x67E5;&amp;#x51FA;&amp;#x9875;&amp;#x9762;&amp;#x7684;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;, &amp;#x5E76;&amp;#x63D0;&amp;#x4F9B;&amp;#x5177;&amp;#x4F53;&amp;#x4F4D;&amp;#x7F6E;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-leak-canary-check-memory/position.png&quot; alt=&quot;&amp;#x6CC4;&amp;#x9732;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x8868;&amp;#x660E;: LeakSingle&amp;#x7684;&lt;strong&gt;&amp;#x9759;&amp;#x6001;&amp;#x5355;&amp;#x4F8B;sInstance&lt;/strong&gt;&amp;#x5F15;&amp;#x7528;LeakSingle&amp;#x7684;&lt;strong&gt;mContext&lt;/strong&gt;, &amp;#x4ECE;&amp;#x800C;&amp;#x5BFC;&amp;#x81F4;MainActivity&amp;#x7684;&lt;strong&gt;instance&lt;/strong&gt;&amp;#x6CC4;&amp;#x9732;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x7684;&amp;#x539F;&amp;#x56E0;&amp;#x5DF2;&amp;#x7ECF;&amp;#x7406;&amp;#x89E3;&amp;#x4E86;, &amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x6765;&amp;#x8BB2;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&amp;#x5982;&amp;#x4F55;&amp;#x68C0;&amp;#x6D4B;&amp;#x5E94;&amp;#x7528;&amp;#x5427;.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x4F9D;&amp;#x8D56;&amp;#x548C;&amp;#x5F15;&amp;#x5165;&quot;&gt;&lt;a href=&quot;#&amp;#x4F9D;&amp;#x8D56;&amp;#x548C;&amp;#x5F15;&amp;#x5165;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F9D;&amp;#x8D56;&amp;#x548C;&amp;#x5F15;&amp;#x5165;&quot;&gt;&lt;/a&gt;&amp;#x4F9D;&amp;#x8D56;&amp;#x548C;&amp;#x5F15;&amp;#x5165;&lt;/h1&gt;&lt;p&gt;build.gradle&amp;#x7684;&amp;#x4F9D;&amp;#x8D56;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;debugCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.squareup.leakcanary:leakcanary-android:1.3.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// or 1.4-beta1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;releaseCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.squareup.leakcanary:leakcanary-android-no-op:1.3.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// or 1.4-beta1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;testCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.squareup.leakcanary:leakcanary-android-no-op:1.3.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// or 1.4-beta1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5F15;&amp;#x5165;&amp;#x5E94;&amp;#x7528;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DemoApplication&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Application&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        LeakCanary.install(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x914D;&amp;#x7F6E;&amp;#x975E;&amp;#x5E38;&amp;#x7B80;&amp;#x5355;, &amp;#x4F1A;&amp;#x589E;&amp;#x52A0;&amp;#x4E00;&amp;#x4E2A;&amp;#x9644;&amp;#x5C5E;&amp;#x5E94;&amp;#x7528;, &amp;#x53BB;&amp;#x6389;Application&amp;#x7684;&amp;#x5F15;&amp;#x7528;, &amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x79FB;&amp;#x9664;LeakCanary.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x6CC4;&amp;#x9732;&amp;#x5355;&amp;#x4F8B;&quot;&gt;&lt;a href=&quot;#&amp;#x6CC4;&amp;#x9732;&amp;#x5355;&amp;#x4F8B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6CC4;&amp;#x9732;&amp;#x5355;&amp;#x4F8B;&quot;&gt;&lt;/a&gt;&amp;#x6CC4;&amp;#x9732;&amp;#x5355;&amp;#x4F8B;&lt;/h1&gt;&lt;p&gt;&amp;#x6CC4;&amp;#x9732;&amp;#x5355;&amp;#x4F8B;, &amp;#x5F15;&amp;#x5165;&amp;#x9875;&amp;#x9762;&amp;#x7684;TextView, &amp;#x5F3A;&amp;#x5236;&amp;#x4FDD;&amp;#x7559;&amp;#x7684;&amp;#x7236;Activity, &amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;, &amp;#x53EF;&amp;#x4EE5;&amp;#x5728;onDestroy&amp;#x65F6;, &amp;#x89E3;&amp;#x5F15;&amp;#x7528;&amp;#x907F;&amp;#x514D;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x6CC4;&amp;#x9732;&amp;#x5355;&amp;#x4F8B;, &amp;#x8BBE;&amp;#x8BA1;&amp;#x6DF7;&amp;#x4E71;, &amp;#x5355;&amp;#x4F8B;&amp;#x53EA;&amp;#x5E94;&amp;#x8BE5;&amp;#x505A;&amp;#x4E8B;&amp;#x52A1;&amp;#x6027;&amp;#x7684;&amp;#x5DE5;&amp;#x4F5C;, &amp;#x9875;&amp;#x9762;&amp;#x64CD;&amp;#x4F5C;&amp;#x5E94;&amp;#x8BE5;&amp;#x4F7F;&amp;#x7528;&amp;#x56DE;&amp;#x8C03;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x672C;&amp;#x793A;&amp;#x4F8B;&amp;#x4EC5;&amp;#x505A;&amp;#x4E3A;&amp;#x53CD;&amp;#x9762;&amp;#x793A;&amp;#x4F8B;, &amp;#x5207;&amp;#x52FF;&amp;#x5B66;&amp;#x4E60;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;lt;p/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Created by wangchenlong on 16/1/25.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;LeakSingle&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Context mContext;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; TextView mTextView;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; LeakSingle sInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;LeakSingle&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mContext = context;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; LeakSingle &lt;span class=&quot;title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (sInstance == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sInstance = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LeakSingle(context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setRetainedTextView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TextView tv)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mTextView = tv;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mTextView.setText(mContext.getString(R.string.app_name));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x5220;&amp;#x9664;&amp;#x5F15;&amp;#x7528;, &amp;#x9632;&amp;#x6B62;&amp;#x6CC4;&amp;#x9732;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;removeRetainedTextView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mTextView = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5355;&amp;#x4F8B;&amp;#x53EA;&amp;#x5E94;&amp;#x8BE5;&amp;#x505A;&amp;#x4E8B;&amp;#x52A1;&amp;#x6027;&amp;#x7684;&amp;#x5DE5;&amp;#x4F5C;, &amp;#x9875;&amp;#x9762;&amp;#x64CD;&amp;#x4F5C;&amp;#x5E94;&amp;#x8BE5;&amp;#x4F7F;&amp;#x7528;&amp;#x56DE;&amp;#x8C03;, &amp;#x4E0D;&amp;#x662F;&amp;#x5F15;&amp;#x5165;&amp;#x63A7;&amp;#x4EF6;. &amp;#x672C;&amp;#x793A;&amp;#x4F8B;&amp;#x4EC5;&amp;#x505A;&amp;#x4E3A;&amp;#x53CD;&amp;#x9762;&amp;#x793A;&amp;#x4F8B;, &amp;#x5207;&amp;#x52FF;&amp;#x5B66;&amp;#x4E60;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x6CC4;&amp;#x9732;&amp;#x5185;&amp;#x5B58;&quot;&gt;&lt;a href=&quot;#&amp;#x6CC4;&amp;#x9732;&amp;#x5185;&amp;#x5B58;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6CC4;&amp;#x9732;&amp;#x5185;&amp;#x5B58;&quot;&gt;&lt;/a&gt;&amp;#x6CC4;&amp;#x9732;&amp;#x5185;&amp;#x5B58;&lt;/h1&gt;&lt;p&gt;&amp;#x8C03;&amp;#x7528;&amp;#x5355;&amp;#x4F8B;, &amp;#x4E24;&amp;#x79CD;&amp;#x5F15;&amp;#x7528;&amp;#x90FD;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;, &amp;#x7B2C;&amp;#x4E00;&amp;#x79CD;&amp;#x662F;Context&amp;#x5F15;&amp;#x7528;&amp;#x6CC4;&amp;#x9732;, &amp;#x7B2C;&amp;#x4E8C;&amp;#x79CD;&amp;#x662F;&amp;#x5B50;&amp;#x63A7;&amp;#x4EF6;&amp;#x5F15;&amp;#x7528;&amp;#x6CC4;&amp;#x9732;. &amp;#x907F;&amp;#x514D;&amp;#x65B9;&amp;#x5F0F;&amp;#x662F;&amp;#x5728;onDestroy&amp;#x4E2D;, &amp;#x6E05;&amp;#x9664;&amp;#x5F15;&amp;#x7528;. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x6700;&amp;#x4F18;&amp;#x65B9;&amp;#x5F0F;&lt;/strong&gt;:&lt;br&gt;&amp;#x5728;&amp;#x5355;&amp;#x4F8B;&amp;#x4E2D;&amp;#x53EA;&amp;#x6267;&amp;#x884C;&amp;#x4E8B;&amp;#x52A1;&amp;#x6027;&amp;#x5DE5;&amp;#x4F5C;, &amp;#x4E0D;&amp;#x6267;&amp;#x884C;&amp;#x5177;&amp;#x4F53;&amp;#x9875;&amp;#x9762;&amp;#x64CD;&amp;#x4F5C;, &amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x63A5;&amp;#x53E3;&amp;#x56DE;&amp;#x8C03;, &amp;#x5F02;&amp;#x6B65;&amp;#x5904;&amp;#x7406;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MainActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AppCompatActivity&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Bind&lt;/span&gt;(R.id.main_tv_text) TextView mTvText;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setContentView(R.layout.activity_main);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ButterKnife.bind(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * me.chunyu.spike.wcl_leakcanary_demo.MainActivity has leaked:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * GC ROOT static me.chunyu.spike.wcl_leakcanary_demo.LeakSingle.sInstance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * references me.chunyu.spike.wcl_leakcanary_demo.LeakSingle.mContext&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * leaks me.chunyu.spike.wcl_leakcanary_demo.MainActivity instance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//        LeakSingle.getInstance(this).setRetainedTextView(mTvText);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * me.chunyu.spike.wcl_leakcanary_demo.MainActivity has leaked:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * GC ROOT static me.chunyu.spike.wcl_leakcanary_demo.LeakSingle.sInstance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * references me.chunyu.spike.wcl_leakcanary_demo.LeakSingle.mTextView&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * references android.support.v7.widget.AppCompatTextView.mContext&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * leaks me.chunyu.spike.wcl_leakcanary_demo.MainActivity instance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        LeakSingle.getInstance(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getApplication()).setRetainedTextView(mTvText);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDestroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onDestroy();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &amp;#x9632;&amp;#x6B62;&amp;#x5185;&amp;#x6CC4;&amp;#x9732;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        LeakSingle.getInstance(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getApplication()).removeRetainedTextView();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;LeakCanary&amp;#x4E2D;&amp;#x7684;&amp;#x68C0;&amp;#x6D4B;&amp;#x7ED3;&amp;#x679C;, &amp;#x4FEE;&amp;#x6539;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x7684;&amp;#x5730;&amp;#x65B9;, &amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B8C;&amp;#x7F8E;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x95EE;&amp;#x9898;.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x89E3;&amp;#x6790;&amp;#x6CC4;&amp;#x9732;&amp;#x4F4D;&amp;#x7F6E;&quot;&gt;&lt;a href=&quot;#&amp;#x89E3;&amp;#x6790;&amp;#x6CC4;&amp;#x9732;&amp;#x4F4D;&amp;#x7F6E;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x89E3;&amp;#x6790;&amp;#x6CC4;&amp;#x9732;&amp;#x4F4D;&amp;#x7F6E;&quot;&gt;&lt;/a&gt;&amp;#x89E3;&amp;#x6790;&amp;#x6CC4;&amp;#x9732;&amp;#x4F4D;&amp;#x7F6E;&lt;/h1&gt;&lt;p&gt;&amp;#x65B0;&amp;#x624B;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5458;&amp;#x7ECF;&amp;#x5E38;&amp;#x4F1A;&amp;#x95EE;&amp;#x6211;, &amp;#x5982;&amp;#x4F55;&amp;#x7406;&amp;#x89E3;LeakCanary&amp;#x7684;&amp;#x9519;&amp;#x8BEF;&amp;#x4FE1;&amp;#x606F;, &amp;#x6211;&amp;#x6765;&amp;#x4E3E;&amp;#x4E2A;&amp;#x4F8B;&amp;#x5B50;&amp;#x8BB2;&amp;#x89E3;&amp;#x4E00;&amp;#x4E9B;.&lt;br&gt;&amp;#x5982;&amp;#x56FE;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/use-leak-canary-check-memory/position-2.png&quot; alt=&quot;&amp;#x6CC4;&amp;#x9732;&quot;&gt;&lt;/p&gt;
&lt;p&gt;LeakCanary&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x63D0;&amp;#x793A;&amp;#x4E00;&amp;#x822C;&amp;#x4F1A;&amp;#x5305;&amp;#x542B;&amp;#x4E09;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;:&lt;br&gt;&lt;strong&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&lt;/strong&gt;(LeakSingle&amp;#x7C7B;&amp;#x7684;sInstance&amp;#x53D8;&amp;#x91CF;)&amp;#x5F15;&amp;#x7528;&lt;strong&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x90E8;&amp;#x5206;&lt;/strong&gt;(LeakSingle&amp;#x7C7B;&amp;#x7684;mContext&amp;#x53D8;&amp;#x91CF;), &amp;#x5BFC;&amp;#x81F4;&lt;strong&gt;&amp;#x7B2C;&amp;#x4E09;&amp;#x90E8;&amp;#x5206;&lt;/strong&gt;(MainActivity&amp;#x7C7B;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;instance)&amp;#x6CC4;&amp;#x9732;.&lt;/p&gt;
&lt;p&gt;&amp;#x5E94;&amp;#x7528;&amp;#x6700;&amp;#x5E38;&amp;#x89C1;&amp;#x7684;&amp;#x6CC4;&amp;#x9732;&amp;#x4F4D;&amp;#x7F6E;&amp;#x5C31;&amp;#x662F;&lt;strong&gt;Activity&lt;/strong&gt;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;, &amp;#x8981;&amp;#x624B;&amp;#x52A8;&amp;#x6216;&amp;#x4F7F;&amp;#x7528;shell&amp;#x547D;&amp;#x4EE4;, &amp;#x542F;&amp;#x52A8;&amp;#x6240;&amp;#x6709;&amp;#x7684;Activity. LeakCanary&amp;#x5224;&amp;#x65AD;&amp;#x65F6;&amp;#x673A;&amp;#x662F;&lt;strong&gt;Activity&amp;#x542F;&amp;#x52A8;&amp;#x5230;&amp;#x7ED3;&amp;#x675F;&lt;/strong&gt;, &amp;#x68C0;&amp;#x6D4B;&amp;#x8FD9;&amp;#x4E00;&amp;#x8FC7;&amp;#x7A0B;&amp;#x662F;&amp;#x5426;&amp;#x4F1A;&amp;#x53D1;&amp;#x751F;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;.&lt;/p&gt;
&lt;p&gt;&amp;#x542F;&amp;#x52A8;Activity&amp;#x7684;shell&amp;#x547D;&amp;#x4EE4;&amp;#x662F;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;adb shell am start  -n [&amp;#x5305;&amp;#x540D;]/[Activity&amp;#x540D;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x7528;&amp;#x6237;&amp;#x4F53;&amp;#x9A8C;&amp;#x81F3;&amp;#x5173;&amp;#x91CD;&amp;#x8981;, &amp;#x611F;&amp;#x8C22;Square&amp;#x7684;&amp;#x4EA7;&amp;#x54C1;, &amp;#x8BA9;&amp;#x8FD9;&amp;#x4EF6;&amp;#x4E8B;&amp;#x53D8;&amp;#x5F97;&amp;#x5982;&amp;#x6B64;&amp;#x7B80;&amp;#x5355;. &lt;/p&gt;
&lt;p&gt;OK, that&amp;#x2019;s all! Enjoy it!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/14/use-leak-canary-check-memory/&quot;&gt;http://www.wangchenlong.org/2016/03/14/use-leak-canary-check-memory/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;. &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/square/leakcanary&quot;&gt;LeakCanary&lt;/a&gt;&amp;#x662F;&amp;#x68C0;&amp;#x6D4B;&amp;#x5E94;&amp;#x7528;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x7684;&amp;#x5DE5;&amp;#x5177;, &amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x662F;Android&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x5E38;&amp;#x89C1;&amp;#x7684;&amp;#x95EE;&amp;#x9898;, &amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x7A33;&amp;#x5B9A;&amp;#x6027;&amp;#x4E0B;&amp;#x964D;. &amp;#x672C;&amp;#x6587;&amp;#x4ECB;&amp;#x7ECD;LeakCanary&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x5F0F;.&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="应用" scheme="http://www.wangchenlong.org/tags/%E5%BA%94%E7%94%A8/"/>
    
      <category term="测试" scheme="http://www.wangchenlong.org/tags/%E6%B5%8B%E8%AF%95/"/>
    
      <category term="LeakCanary" scheme="http://www.wangchenlong.org/tags/LeakCanary/"/>
    
      <category term="内存" scheme="http://www.wangchenlong.org/tags/%E5%86%85%E5%AD%98/"/>
    
  </entry>
  
  <entry>
    <title>使用 Battery Historian 分析和优化应用的电量</title>
    <link href="http://www.wangchenlong.org/2016/03/14/analyze-app-battery/"/>
    <id>http://www.wangchenlong.org/2016/03/14/analyze-app-battery/</id>
    <published>2016-03-14T03:02:00.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5728;Android&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;, &amp;#x8F83;&amp;#x96BE;&amp;#x76D1;&amp;#x63A7;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x7535;&amp;#x91CF;&amp;#x6D88;&amp;#x8017;, &amp;#x4F46;&amp;#x662F;&amp;#x7528;&amp;#x6237;&amp;#x5374;&amp;#x975E;&amp;#x5E38;&amp;#x5173;&amp;#x5FC3;&amp;#x624B;&amp;#x673A;&amp;#x7684;&amp;#x5F85;&amp;#x673A;&amp;#x65F6;&amp;#x95F4;. &amp;#x8FC7;&amp;#x5EA6;&amp;#x8017;&amp;#x7535;&amp;#x7684;&amp;#x5E94;&amp;#x7528;, &amp;#x4F1A;&amp;#x906D;&amp;#x5230;&amp;#x7528;&amp;#x6237;&amp;#x65E0;&amp;#x60C5;&amp;#x7684;&amp;#x5378;&amp;#x8F7D;, &amp;#x4E0D;&amp;#x8981;&amp;#x5B58;&amp;#x5728;&amp;#x4FA5;&amp;#x5E78;&amp;#x5FC3;&amp;#x7406;, &amp;#x7ED9;&amp;#x7ADE;&amp;#x54C1;&amp;#x5E26;&amp;#x6765;&amp;#x673A;&amp;#x4F1A;. &amp;#x56E0;&amp;#x6B64;, &amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x7814;&amp;#x7A76;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x8017;&amp;#x7535;&amp;#x91CF;, &amp;#x5E76;&amp;#x8FDB;&amp;#x884C;&amp;#x4F18;&amp;#x5316;. &amp;#x672C;&amp;#x6587;&amp;#x8BB2;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&lt;a href=&quot;https://github.com/google/battery-historian&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Battery Historian&lt;/a&gt;, &amp;#x662F;&amp;#x4E00;&amp;#x6B3E;&amp;#x7531;Google&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;Android&amp;#x7CFB;&amp;#x7EDF;&amp;#x7535;&amp;#x91CF;&amp;#x5206;&amp;#x6790;&amp;#x5DE5;&amp;#x5177;. &amp;#x5728;&amp;#x7F51;&amp;#x9875;&amp;#x4E2D;&amp;#x5C55;&amp;#x793A;&amp;#x624B;&amp;#x673A;&amp;#x7684;&amp;#x7535;&amp;#x91CF;&amp;#x6D88;&amp;#x8017;&amp;#x8FC7;&amp;#x7A0B;, &amp;#x8F93;&amp;#x5165;&amp;#x7535;&amp;#x91CF;&amp;#x5206;&amp;#x6790;&amp;#x6587;&amp;#x4EF6;, &amp;#x663E;&amp;#x793A;&amp;#x6D88;&amp;#x8017;&amp;#x60C5;&amp;#x51B5;. &amp;#x6700;&amp;#x540E;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E00;&amp;#x4E9B;&amp;#x7535;&amp;#x91CF;&amp;#x4F18;&amp;#x5316;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;, &amp;#x53EF;&amp;#x4F9B;&amp;#x53C2;&amp;#x8003;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/analyze-app-battery/battery.png&quot; alt=&quot;Battery&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x5B89;&amp;#x88C5;Go&quot;&gt;&lt;a href=&quot;#&amp;#x5B89;&amp;#x88C5;Go&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B89;&amp;#x88C5;Go&quot;&gt;&lt;/a&gt;&amp;#x5B89;&amp;#x88C5;&lt;a href=&quot;http://golang.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Go&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;Battery Historian&lt;/strong&gt;&amp;#x662F;Go&amp;#x8BED;&amp;#x8A00;&amp;#x5F00;&amp;#x53D1;, &amp;#x9700;&amp;#x8981;&amp;#x5B89;&amp;#x88C5;Go&amp;#x7F16;&amp;#x8BD1;&amp;#x73AF;&amp;#x5883;.&lt;br&gt;&amp;#x4E0B;&amp;#x8F7D;Mac&amp;#x7248;&amp;#x7684;&lt;a href=&quot;(http://golang.org/doc/install&quot;&gt;&amp;#x5B89;&amp;#x88C5;&amp;#x5305;&lt;/a&gt;), &amp;#x6267;&amp;#x884C;&amp;#x5B8C;&amp;#x6210;, &amp;#x68C0;&amp;#x67E5;Go&amp;#x7248;&amp;#x672C;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x279C;  ~ go version&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;go version go1.6 darwin/amd64&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&lt;code&gt;.bash_profile&lt;/code&gt;&amp;#x4E2D;, &amp;#x8BBE;&amp;#x7F6E;Go&amp;#x8BED;&amp;#x8A00;&amp;#x53D8;&amp;#x91CF;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#Go Settings&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export GOPATH=/Users/.../Workspace/GoWorkspace&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export GOBIN=/Users/.../Workspace/GoWorkspace/bin&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GOPATH&amp;#x6E90;&amp;#x7801;&amp;#x5730;&amp;#x5740;. GOBIN&amp;#x751F;&amp;#x6210;&amp;#x5730;&amp;#x5740;, &amp;#x63A8;&amp;#x8350;$GOPATH/bin.&lt;br&gt; &amp;#x6267;&amp;#x884C;&lt;code&gt;source .bash_profile&lt;/code&gt;, &amp;#x5E94;&amp;#x7528;profile&amp;#x914D;&amp;#x7F6E;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x65B0;&amp;#x5EFA;src&amp;#x6587;&amp;#x4EF6;&amp;#x5939;, &amp;#x6DFB;&amp;#x52A0;HelloWorld&amp;#x6587;&amp;#x4EF6;&lt;code&gt;hello.go&lt;/code&gt;.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;package main&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import &amp;quot;fmt&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;func main() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&amp;quot;hello, world\n&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5B89;&amp;#x88C5;hello.go&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;go install hello.go&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6267;&amp;#x884C;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$GOBIN/hello&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x663E;&amp;#x793A;&lt;code&gt;hello, world&lt;/code&gt;, &amp;#x5373;&amp;#x8868;&amp;#x793A;&amp;#x5B89;&amp;#x88C5;&amp;#x5B8C;&amp;#x6210;.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Battery-Historian&quot;&gt;&lt;a href=&quot;#Battery-Historian&quot; class=&quot;headerlink&quot; title=&quot;Battery Historian&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://github.com/google/battery-historian&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Battery Historian&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;&amp;#x5728;&amp;#x5B89;&amp;#x88C5;Battery Historian&amp;#x65F6;, &amp;#x9700;&amp;#x8981;&amp;#x63D0;&amp;#x524D;&amp;#x5B89;&amp;#x88C5;wget.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo brew install wget&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6309;&amp;#x7167;&lt;strong&gt;Battery Historian&lt;/strong&gt;&amp;#x7684;&lt;a href=&quot;https://github.com/google/battery-historian&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;&amp;#x6587;&amp;#x6863;&amp;#x6267;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#x5373;&amp;#x53EF;.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;go get -u github.com/golang/protobuf/proto&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;go get -u github.com/golang/protobuf/protoc-gen-go&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;go get -u github.com/google/battery-historian/...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cd $GOPATH/src/github.com/google/battery-historian&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bash setup.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &amp;#x8FD0;&amp;#x884C;Go&amp;#x811A;&amp;#x672C;, &amp;#x9ED8;&amp;#x8BA4;&amp;#x7AEF;&amp;#x53E3;9999 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;go run cmd/battery-historian/battery-historian.go [--port &amp;lt;default:9999&amp;gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/analyze-app-battery/command.png&quot; alt=&quot;&amp;#x547D;&amp;#x4EE4;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x542F;&amp;#x52A8;&amp;#x547D;&amp;#x4EE4;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cd $GOPATH/src/github.com/google/battery-historian&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;go run cmd/battery-historian/battery-historian.go [--port &amp;lt;default:9999&amp;gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x6D4F;&amp;#x89C8;&amp;#x5668;&amp;#x4E2D;, &amp;#x8F93;&amp;#x5165;&lt;strong&gt;&lt;a href=&quot;http://localhost:9999/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://localhost:9999/&lt;/a&gt;&lt;/strong&gt;, &amp;#x5373;&amp;#x53EF;&amp;#x542F;&amp;#x52A8;&amp;#x7535;&amp;#x91CF;&amp;#x68C0;&amp;#x6D4B;&amp;#x9875;&amp;#x9762;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/analyze-app-battery/analyze.png&quot; alt=&quot;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;&amp;#x542F;&amp;#x52A8;&amp;#x9875;&amp;#x9762;&amp;#x65F6;, &amp;#x53EF;&amp;#x80FD;&amp;#x9700;&amp;#x8981;&amp;#x8FDE;&amp;#x63A5;VPN, &amp;#x8BBF;&amp;#x95EE;Google&amp;#x4FE1;&amp;#x606F;. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#&amp;#x5206;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;/a&gt;&amp;#x5206;&amp;#x6790;&lt;/h1&gt;&lt;p&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x624B;&amp;#x673A;&amp;#x7684;&amp;#x7535;&amp;#x91CF;&amp;#x6587;&amp;#x4EF6;, &amp;#x5BFC;&amp;#x51FA;&amp;#x5230;&amp;#x6839;&amp;#x76EE;&amp;#x5F55;, &amp;#x4EE5;&amp;#x5907;&lt;strong&gt;Battery Historian&lt;/strong&gt;&amp;#x4F7F;&amp;#x7528;.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;adb&amp;#xA0;bugreport&amp;#xA0;&amp;gt;&amp;#xA0;bugreport.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;Battery Historian&lt;/strong&gt;&amp;#x7684;&amp;#x7F51;&amp;#x9875;&amp;#x52A0;&amp;#x8F7D;&lt;strong&gt;bugreport.txt&lt;/strong&gt;&amp;#x6587;&amp;#x4EF6;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5982;&amp;#x9047;&amp;#x5230;&amp;#x4E00;&amp;#x4E9B;&amp;#x95EE;&amp;#x9898;, &amp;#x91CD;&amp;#x65B0;&amp;#x63D0;&amp;#x4EA4;&lt;strong&gt;bugreport.txt&lt;/strong&gt;&amp;#x6587;&amp;#x4EF6;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x72B6;&amp;#x6001;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/analyze-app-battery/system_stats.png&quot; alt=&quot;System Stats&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x72B6;&amp;#x6001;(&amp;#x7B80;&amp;#x4E66;)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/14/analyze-app-battery/app_stats.png&quot; alt=&quot;App Stats&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x7535;&amp;#x91CF;&amp;#x4F18;&amp;#x5316;&quot;&gt;&lt;a href=&quot;#&amp;#x7535;&amp;#x91CF;&amp;#x4F18;&amp;#x5316;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7535;&amp;#x91CF;&amp;#x4F18;&amp;#x5316;&quot;&gt;&lt;/a&gt;&amp;#x7535;&amp;#x91CF;&amp;#x4F18;&amp;#x5316;&lt;/h1&gt;&lt;p&gt;&amp;#x6839;&amp;#x636E;&lt;strong&gt;Battery Historian&lt;/strong&gt;&amp;#x7684;&amp;#x7535;&amp;#x91CF;&amp;#x63D0;&amp;#x793A;&amp;#x4FE1;&amp;#x606F;, &amp;#x6D88;&amp;#x8017;&amp;#x7535;&amp;#x91CF;&amp;#x5305;&amp;#x542B;&lt;br&gt;&lt;strong&gt;&amp;#x5524;&amp;#x9192;&amp;#x9501;\SyncManager&amp;#x540C;&amp;#x6B65;&amp;#x7BA1;&amp;#x7406;&amp;#x5668;\&amp;#x97F3;&amp;#x89C6;&amp;#x9891;\&amp;#x6D41;&amp;#x91CF;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&amp;#x4F18;&amp;#x5316;&amp;#x65B9;&amp;#x5F0F;:&lt;br&gt;(1) &amp;#x68C0;&amp;#x67E5;&amp;#x5168;&amp;#x90E8;&lt;strong&gt;&amp;#x5524;&amp;#x9192;&amp;#x9501;&lt;/strong&gt;, &amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&amp;#x5197;&amp;#x4F59;&amp;#x6216;&amp;#x8005;&amp;#x65E0;&amp;#x7528;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;.&lt;br&gt;(2) &amp;#x96C6;&amp;#x4E2D;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&lt;strong&gt;&amp;#x6570;&amp;#x636E;&amp;#x8BF7;&amp;#x6C42;&lt;/strong&gt;, &amp;#x7EDF;&amp;#x4E00;&amp;#x53D1;&amp;#x9001;; &amp;#x7CBE;&amp;#x7B80;&amp;#x6570;&amp;#x636E;, &amp;#x51CF;&amp;#x5C11;&amp;#x65E0;&amp;#x7528;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x4F20;&amp;#x8F93;.&lt;br&gt;(3) &amp;#x5206;&amp;#x6790;&amp;#x548C;&amp;#x7EDF;&amp;#x8BA1;&amp;#x7B49;&lt;strong&gt;&amp;#x975E;&amp;#x91CD;&amp;#x8981;&lt;/strong&gt;&amp;#x64CD;&amp;#x4F5C;, &amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x7535;&amp;#x91CF;&amp;#x5145;&amp;#x8DB3;&amp;#x6216;&amp;#x8FDE;&amp;#x63A5;WIFI&amp;#x65F6;&amp;#x8FDB;&amp;#x884C;, &amp;#x53C2;&amp;#x8003;&lt;a href=&quot;https://developer.android.com/reference/android/app/job/JobScheduler.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;JobScheduler&lt;/a&gt;.&lt;br&gt;(4) &amp;#x7CBE;&amp;#x7B80;&amp;#x5197;&amp;#x4F59;&amp;#x7684;&lt;strong&gt;&amp;#x670D;&amp;#x52A1;(Service)&lt;/strong&gt;, &amp;#x907F;&amp;#x514D;&amp;#x957F;&amp;#x65F6;&amp;#x95F4;&amp;#x6267;&amp;#x884C;&amp;#x8017;&amp;#x7535;&amp;#x64CD;&amp;#x4F5C;.&lt;br&gt;(5) &amp;#x6CE8;&amp;#x610F;&lt;strong&gt;&amp;#x5B9A;&amp;#x4F4D;&lt;/strong&gt;&amp;#x4FE1;&amp;#x606F;&amp;#x7684;&amp;#x83B7;&amp;#x53D6;, &amp;#x4F7F;&amp;#x7528;&amp;#x540E;&amp;#x53CA;&amp;#x65F6;&amp;#x5173;&amp;#x95ED;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x7535;&amp;#x91CF;&amp;#x4F18;&amp;#x5316;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x5F88;&amp;#x96BE;, &amp;#x4F46;&amp;#x9700;&amp;#x8981;&amp;#x5BF9;&amp;#x4E1A;&amp;#x52A1;&amp;#x975E;&amp;#x5E38;&amp;#x719F;&amp;#x6089;, &amp;#x4E86;&amp;#x89E3;&amp;#x4E00;&amp;#x4E9B;&amp;#x8017;&amp;#x7535;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x60C5;&amp;#x51B5;, &amp;#x53CA;&amp;#x65F6;&amp;#x4F18;&amp;#x5316;. &amp;#x53EA;&amp;#x6709;&amp;#x7ED9;&amp;#x7528;&amp;#x6237;&amp;#x7CBE;&amp;#x81F4;&amp;#x7684;&amp;#x4F53;&amp;#x9A8C;, &amp;#x7528;&amp;#x6237;&amp;#x624D;&amp;#x80FD;&amp;#x66F4;&amp;#x52A0;&amp;#x559C;&amp;#x6B22;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x5E94;&amp;#x7528;, &amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x670D;&amp;#x52A1;&amp;#x578B;&amp;#x793E;&amp;#x4F1A;&amp;#x7684;&amp;#x672C;&amp;#x8D28;.&lt;/p&gt;
&lt;p&gt;That&amp;#x2019;s all! Enjoy it!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/14/analyze-app-battery/&quot;&gt;http://www.wangchenlong.org/2016/03/14/analyze-app-battery/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;. &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5728;Android&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;, &amp;#x8F83;&amp;#x96BE;&amp;#x76D1;&amp;#x63A7;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x7535;&amp;#x91CF;&amp;#x6D88;&amp;#x8017;, &amp;#x4F46;&amp;#x662F;&amp;#x7528;&amp;#x6237;&amp;#x5374;&amp;#x975E;&amp;#x5E38;&amp;#x5173;&amp;#x5FC3;&amp;#x624B;&amp;#x673A;&amp;#x7684;&amp;#x5F85;&amp;#x673A;&amp;#x65F6;&amp;#x95F4;. &amp;#x8FC7;&amp;#x5EA6;&amp;#x8017;&amp;#x7535;&amp;#x7684;&amp;#x5E94;&amp;#x7528;, &amp;#x4F1A;&amp;#x906D;&amp;#x5230;&amp;#x7528;&amp;#x6237;&amp;#x65E0;&amp;#x60C5;&amp;#x7684;&amp;#x5378;&amp;#x8F7D;, &amp;#x4E0D;&amp;#x8981;&amp;#x5B58;&amp;#x5728;&amp;#x4FA5;&amp;#x5E78;&amp;#x5FC3;&amp;#x7406;, &amp;#x7ED9;&amp;#x7ADE;&amp;#x54C1;&amp;#x5E26;&amp;#x6765;&amp;#x673A;&amp;#x4F1A;. &amp;#x56E0;&amp;#x6B64;, &amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x7814;&amp;#x7A76;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x8017;&amp;#x7535;&amp;#x91CF;, &amp;#x5E76;&amp;#x8FDB;&amp;#x884C;&amp;#x4F18;&amp;#x5316;. &amp;#x672C;&amp;#x6587;&amp;#x8BB2;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&lt;a href=&quot;https://github.com/google/battery-historian&quot;&gt;Battery Historian&lt;/a&gt;, &amp;#x662F;&amp;#x4E00;&amp;#x6B3E;&amp;#x7531;Google&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;Android&amp;#x7CFB;&amp;#x7EDF;&amp;#x7535;&amp;#x91CF;&amp;#x5206;&amp;#x6790;&amp;#x5DE5;&amp;#x5177;. &amp;#x5728;&amp;#x7F51;&amp;#x9875;&amp;#x4E2D;&amp;#x5C55;&amp;#x793A;&amp;#x624B;&amp;#x673A;&amp;#x7684;&amp;#x7535;&amp;#x91CF;&amp;#x6D88;&amp;#x8017;&amp;#x8FC7;&amp;#x7A0B;, &amp;#x8F93;&amp;#x5165;&amp;#x7535;&amp;#x91CF;&amp;#x5206;&amp;#x6790;&amp;#x6587;&amp;#x4EF6;, &amp;#x663E;&amp;#x793A;&amp;#x6D88;&amp;#x8017;&amp;#x60C5;&amp;#x51B5;. &amp;#x6700;&amp;#x540E;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E00;&amp;#x4E9B;&amp;#x7535;&amp;#x91CF;&amp;#x4F18;&amp;#x5316;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;, &amp;#x53EF;&amp;#x4F9B;&amp;#x53C2;&amp;#x8003;.&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="应用" scheme="http://www.wangchenlong.org/tags/%E5%BA%94%E7%94%A8/"/>
    
      <category term="测试" scheme="http://www.wangchenlong.org/tags/%E6%B5%8B%E8%AF%95/"/>
    
      <category term="电量" scheme="http://www.wangchenlong.org/tags/%E7%94%B5%E9%87%8F/"/>
    
      <category term="BatteryHistorian" scheme="http://www.wangchenlong.org/tags/BatteryHistorian/"/>
    
  </entry>
  
  <entry>
    <title>使用Espresso和Dagger测试网络服务</title>
    <link href="http://www.wangchenlong.org/2016/03/13/use-dagger-espresso-test-network/"/>
    <id>http://www.wangchenlong.org/2016/03/13/use-dagger-espresso-test-network/</id>
    <published>2016-03-13T06:14:00.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x53EF;&amp;#x9760;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;, &amp;#x610F;&amp;#x5473;&amp;#x7740;&amp;#x5728;&amp;#x4EFB;&amp;#x4F55;&amp;#x65F6;&amp;#x5019;, &amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7ED3;&amp;#x679C;&amp;#x5747;&amp;#x76F8;&amp;#x540C;, &amp;#x8FD9;&amp;#x5C31;&amp;#x9700;&amp;#x8981;&amp;#x6A21;&amp;#x62DF;(Mock)&amp;#x6570;&amp;#x636E;. &amp;#x6D4B;&amp;#x8BD5;&amp;#x6846;&amp;#x67B6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;Android&amp;#x63A8;&amp;#x8350;&amp;#x7684;&lt;a href=&quot;https://google.github.io/android-testing-support-library/docs/espresso/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Espresso&lt;/a&gt;. &amp;#x6A21;&amp;#x62DF;&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;a href=&quot;http://google.github.io/dagger/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Dagger2&lt;/a&gt;, &amp;#x4E00;&amp;#x79CD;&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;&amp;#x6846;&amp;#x67B6;.&lt;/p&gt;
&lt;p&gt;&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x901A;&amp;#x5E38;&amp;#x4F1A;&amp;#x6A21;&amp;#x62DF;&amp;#x6240;&amp;#x6709;&amp;#x4F9D;&amp;#x8D56;, &amp;#x907F;&amp;#x514D;&amp;#x51FA;&amp;#x73B0;&amp;#x4E0D;&amp;#x53EF;&amp;#x9760;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;, &amp;#x800C;&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FD9;&amp;#x6837;&amp;#x505A;. &amp;#x4E00;&amp;#x4E2A;&amp;#x7ECF;&amp;#x5178;&amp;#x7684;&amp;#x4F8B;&amp;#x5B50;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x6A21;&amp;#x62DF;&amp;#x7A33;&amp;#x5B9A;&amp;#x7684;&amp;#x7F51;&amp;#x7EDC;&amp;#x6570;&amp;#x636E;, &amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;Dagger2&amp;#x5904;&amp;#x7406;&amp;#x8FD9;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&amp;#x672C;&amp;#x6587;&amp;#x6E90;&amp;#x7801;&amp;#x7684;GitHub&lt;a href=&quot;https://github.com/SpikeKing/wcl-espresso-dagger-demo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5730;&amp;#x5740;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dagger2&amp;#x5DF2;&amp;#x7ECF;&amp;#x6210;&amp;#x4E3A;&amp;#x4F17;&amp;#x591A;Android&amp;#x5F00;&amp;#x53D1;&amp;#x8005;&amp;#x7684;&amp;#x5FC5;&amp;#x5907;&amp;#x5DE5;&amp;#x5177;, &amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5FEB;&amp;#x901F;&amp;#x7684;&lt;a href=&quot;https://en.wikipedia.org/wiki/Dependency_injection&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;&lt;/a&gt;&amp;#x6846;&amp;#x67B6;&amp;#xFF0C;&amp;#x7531;&lt;a href=&quot;https://squareup.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Square&lt;/a&gt;&amp;#x5F00;&amp;#x53D1;&amp;#xFF0C;&amp;#x5E76;&amp;#x9488;&amp;#x5BF9;Android&amp;#x505A;&amp;#x4E86;&amp;#x7279;&amp;#x522B;&amp;#x4F18;&amp;#x5316;, &amp;#x5DF2;&amp;#x7ECF;&amp;#x88AB;Google&amp;#x8FDB;&amp;#x884C;Fork&amp;#x5F00;&amp;#x53D1;. &amp;#x4E0D;&amp;#x50CF;&amp;#x5176;&amp;#x4ED6;&amp;#x7684;&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;&amp;#x5668;, Dagger2&amp;#x6CA1;&amp;#x6709;&amp;#x4F7F;&amp;#x7528;&amp;#x53CD;&amp;#x5C04;, &amp;#x800C;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x9884;&amp;#x751F;&amp;#x6210;&amp;#x4EE3;&amp;#x7801;, &amp;#x63D0;&amp;#x9AD8;&amp;#x6267;&amp;#x884C;&amp;#x901F;&amp;#x5EA6;.H&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/13/use-dagger-espresso-test-network/android-test.png&quot; alt=&quot;Android Test&quot;&gt;&lt;/p&gt;
&lt;p&gt;Talk is cheap! &amp;#x6211;&amp;#x6765;&amp;#x8BB2;&amp;#x89E3;&amp;#x4E0B;&amp;#x5982;&amp;#x4F55;&amp;#x5B9E;&amp;#x73B0;.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x914D;&amp;#x7F6E;&amp;#x4F9D;&amp;#x8D56;&amp;#x73AF;&amp;#x5883;&quot;&gt;&lt;a href=&quot;#&amp;#x914D;&amp;#x7F6E;&amp;#x4F9D;&amp;#x8D56;&amp;#x73AF;&amp;#x5883;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x914D;&amp;#x7F6E;&amp;#x4F9D;&amp;#x8D56;&amp;#x73AF;&amp;#x5883;&quot;&gt;&lt;/a&gt;&amp;#x914D;&amp;#x7F6E;&amp;#x4F9D;&amp;#x8D56;&amp;#x73AF;&amp;#x5883;&lt;/h1&gt;&lt;p&gt;&amp;#x4E3B;&amp;#x8981;:&lt;br&gt;(1) Lambda&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&amp;#x652F;&amp;#x6301;.&lt;br&gt;(2) Dagger2&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;&amp;#x6846;&amp;#x67B6;.&lt;br&gt;(3) RxAndroid&amp;#x54CD;&amp;#x5E94;&amp;#x5F0F;&amp;#x7F16;&amp;#x7A0B;&amp;#x6846;&amp;#x67B6;.&lt;br&gt;(4) Retrofit2&amp;#x7F51;&amp;#x7EDC;&amp;#x5E93;&amp;#x6846;&amp;#x67B6;.&lt;br&gt;(5) Espresso&amp;#x6D4B;&amp;#x8BD5;&amp;#x6846;&amp;#x67B6;.&lt;br&gt;(6) DataBinding&amp;#x6570;&amp;#x636E;&amp;#x7ED1;&amp;#x5B9A;&amp;#x652F;&amp;#x6301;.&lt;/p&gt;
&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;buildscript&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;repositories&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        jcenter()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;classpath&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.neenbedankt.gradle.plugins:android-apt:1.8&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Lambda&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;plugins {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    id &lt;span class=&quot;string&quot;&gt;&amp;quot;me.tatarka.retrolambda&amp;quot;&lt;/span&gt; version &lt;span class=&quot;string&quot;&gt;&amp;quot;3.2.4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apply plugin: &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.application&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apply plugin: &lt;span class=&quot;string&quot;&gt;&amp;apos;com.neenbedankt.android-apt&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x6CE8;&amp;#x91CA;&amp;#x5904;&amp;#x7406;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; BUILD_TOOLS_VERSION = &lt;span class=&quot;string&quot;&gt;&amp;apos;23.0.1&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;android {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    compileSdkVersion &lt;span class=&quot;number&quot;&gt;23&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    buildToolsVersion &lt;span class=&quot;string&quot;&gt;&amp;quot;${BUILD_TOOLS_VERSION}&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    defaultConfig {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        applicationId &lt;span class=&quot;string&quot;&gt;&amp;quot;clwang.chunyu.me.wcl_espresso_dagger_demo&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        minSdkVersion &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        targetSdkVersion &lt;span class=&quot;number&quot;&gt;23&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        versionCode &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        versionName &lt;span class=&quot;string&quot;&gt;&amp;quot;1.0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        testInstrumentationRunner &lt;span class=&quot;string&quot;&gt;&amp;quot;clwang.chunyu.me.wcl_espresso_dagger_demo.runner.WeatherTestRunner&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    buildTypes {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        release {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            minifyEnabled &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            proguardFiles getDefaultProguardFile(&lt;span class=&quot;string&quot;&gt;&amp;apos;proguard-android.txt&amp;apos;&lt;/span&gt;), &lt;span class=&quot;string&quot;&gt;&amp;apos;proguard-rules.pro&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6CE8;&amp;#x91CA;&amp;#x51B2;&amp;#x7A81;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    packagingOptions {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;exclude&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;META-INF/services/javax.annotation.processing.Processor&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x4F7F;&amp;#x7528;Java1.8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    compileOptions {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;sourceCompatibility&lt;/span&gt; JavaVersion.VERSION_1_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;targetCompatibility&lt;/span&gt; JavaVersion.VERSION_1_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6570;&amp;#x636E;&amp;#x7ED1;&amp;#x5B9A;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dataBinding {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        enabled = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; DAGGER_VERSION = &lt;span class=&quot;string&quot;&gt;&amp;apos;2.0.2&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; RETROFIT_VERSION = &lt;span class=&quot;string&quot;&gt;&amp;apos;2.0.0-beta2&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;fileTree&lt;/span&gt;(dir: &lt;span class=&quot;string&quot;&gt;&amp;apos;libs&amp;apos;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;include&lt;/span&gt;: [&lt;span class=&quot;string&quot;&gt;&amp;apos;*.jar&amp;apos;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    testCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;junit:junit:4.12&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Warning:Conflict with dependency &amp;apos;com.android.support:support-annotations&amp;apos;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Resolved versions for app (23.1.1) and test app (23.0.1) differ.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// See http://g.co/androidstudio/app-test-app-conflict for details.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.android.support:appcompat-v7:${BUILD_TOOLS_VERSION}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x9700;&amp;#x8981;&amp;#x4E0E;BuildTools&amp;#x4FDD;&amp;#x6301;&amp;#x4E00;&amp;#x81F4;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.jakewharton:butterknife:7.0.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x6807;&amp;#x6CE8;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.google.dagger:dagger:${DAGGER_VERSION}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// dagger2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.google.dagger:dagger-compiler:${DAGGER_VERSION}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// dagger2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;io.reactivex:rxandroid:1.1.0&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// RxAndroid&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;io.reactivex:rxjava:1.1.0&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x63A8;&amp;#x8350;&amp;#x540C;&amp;#x65F6;&amp;#x52A0;&amp;#x8F7D;RxJava&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.squareup.retrofit:retrofit:${RETROFIT_VERSION}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Retrofit&amp;#x7F51;&amp;#x7EDC;&amp;#x5904;&amp;#x7406;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.squareup.retrofit:adapter-rxjava:${RETROFIT_VERSION}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Retrofit&amp;#x7684;rx&amp;#x89E3;&amp;#x6790;&amp;#x5E93;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.squareup.retrofit:converter-gson:${RETROFIT_VERSION}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Retrofit&amp;#x7684;gson&amp;#x5E93;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.squareup.okhttp:logging-interceptor:2.6.0&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x62E6;&amp;#x622A;&amp;#x5668;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x7F16;&amp;#x8BD1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    androidTestCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.support.test:runner:0.4.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Android JUnit Runner&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    androidTestCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.support.test:rules:0.4.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// JUnit4 Rules&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    androidTestCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.support.test.espresso:espresso-core:2.2.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Espresso core&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    provided &lt;span class=&quot;string&quot;&gt;&amp;apos;javax.annotation:jsr250-api:1.0&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Java&amp;#x6807;&amp;#x6CE8;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Lambda&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&amp;#x652F;&amp;#x6301;, &amp;#x4F18;&amp;#x96C5;&amp;#x6574;&amp;#x6D01;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x5173;&amp;#x952E;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Lambda&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;plugins {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    id &lt;span class=&quot;string&quot;&gt;&amp;quot;me.tatarka.retrolambda&amp;quot;&lt;/span&gt; version &lt;span class=&quot;string&quot;&gt;&amp;quot;3.2.4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;android {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x4F7F;&amp;#x7528;Java1.8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    compileOptions {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;sourceCompatibility&lt;/span&gt; JavaVersion.VERSION_1_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;targetCompatibility&lt;/span&gt; JavaVersion.VERSION_1_8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Dagger2&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;&amp;#x6846;&amp;#x67B6;, &amp;#x5B9E;&amp;#x73B0;&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;. android-apt&amp;#x4F7F;&amp;#x7528;&amp;#x751F;&amp;#x6210;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x63D2;&amp;#x4EF6;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;buildscript&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;repositories&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        jcenter()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;classpath&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.neenbedankt.gradle.plugins:android-apt:1.8&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apply plugin: &lt;span class=&quot;string&quot;&gt;&amp;apos;com.neenbedankt.android-apt&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// &amp;#x6CE8;&amp;#x91CA;&amp;#x5904;&amp;#x7406;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.google.dagger:dagger:${DAGGER_VERSION}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// dagger2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;com.google.dagger:dagger-compiler:${DAGGER_VERSION}&amp;quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// dagger2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    provided &lt;span class=&quot;string&quot;&gt;&amp;apos;javax.annotation:jsr250-api:1.0&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Java&amp;#x6807;&amp;#x6CE8;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6D4B;&amp;#x8BD5;, &amp;#x5728;&amp;#x9ED8;&amp;#x8BA4;&amp;#x914D;&amp;#x7F6E;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;Runner, &amp;#x5728;&amp;#x4F9D;&amp;#x8D56;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;espresso&amp;#x5E93;.&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;android{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    defaultConfig {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        testInstrumentationRunner &lt;span class=&quot;string&quot;&gt;&amp;quot;clwang.chunyu.me.wcl_espresso_dagger_demo.runner.WeatherTestRunner&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    testCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;junit:junit:4.12&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x7F16;&amp;#x8BD1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    androidTestCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.support.test:runner:0.4.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Android JUnit Runner&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    androidTestCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.support.test:rules:0.4.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// JUnit4 Rules&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    androidTestCompile &lt;span class=&quot;string&quot;&gt;&amp;apos;com.android.support.test.espresso:espresso-core:2.2.1&amp;apos;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// Espresso core&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6570;&amp;#x636E;&amp;#x7ED1;&amp;#x5B9A;&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;android{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6570;&amp;#x636E;&amp;#x7ED1;&amp;#x5B9A; &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dataBinding { &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        enabled = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9879;&amp;#x76EE;&quot;&gt;&lt;a href=&quot;#&amp;#x8BBE;&amp;#x7F6E;&amp;#x9879;&amp;#x76EE;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9879;&amp;#x76EE;&quot;&gt;&lt;/a&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9879;&amp;#x76EE;&lt;/h1&gt;&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x6570;&amp;#x636E;&amp;#x7ED1;&amp;#x5B9A;, &amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x641C;&amp;#x7D22;&amp;#x5929;&amp;#x529F;&amp;#x80FD;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x5B9E;&amp;#x73B0;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x67E5;&amp;#x8BE2;&amp;#x5929;&amp;#x6C14;&amp;#x7684;&amp;#x529F;&amp;#x80FD;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@author&lt;/span&gt; wangchenlong&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MainActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AppCompatActivity&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ActivityMainBinding mBinding; &lt;span class=&quot;comment&quot;&gt;// &amp;#x6570;&amp;#x636E;&amp;#x7ED1;&amp;#x5B9A;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; MenuItem mSearchItem; &lt;span class=&quot;comment&quot;&gt;// &amp;#x83DC;&amp;#x5355;&amp;#x9879;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Subscription mSubscription; &lt;span class=&quot;comment&quot;&gt;// &amp;#x8BA2;&amp;#x9605;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Inject&lt;/span&gt; WeatherApiClient mWeatherApiClient; &lt;span class=&quot;comment&quot;&gt;// &amp;#x5929;&amp;#x6C14;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ((WeatherApplication) getApplication()).getAppComponent().inject(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBinding = DataBindingUtil.setContentView(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, R.layout.activity_main);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreateOptionsMenu&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Menu menu)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        getMenuInflater().inflate(R.menu.menu_activity_main, menu); &lt;span class=&quot;comment&quot;&gt;// &amp;#x52A0;&amp;#x8F7D;&amp;#x76EE;&amp;#x5F55;&amp;#x8D44;&amp;#x6E90;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mSearchItem = menu.findItem(R.id.menu_action_search);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        tintSearchMenuItem();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        initSearchView();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x641C;&amp;#x7D22;&amp;#x9879;&amp;#x7740;&amp;#x8272;, &amp;#x4F1A;&amp;#x8986;&amp;#x76D6;&amp;#x57FA;&amp;#x7840;&amp;#x989C;&amp;#x8272;, &amp;#x53D6;&amp;#x4EA4;&amp;#x96C6;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;tintSearchMenuItem&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; color = ContextCompat.getColor(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, android.R.color.white); &lt;span class=&quot;comment&quot;&gt;// &amp;#x767D;&amp;#x8272;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mSearchItem.getIcon().setColorFilter(color, PorterDuff.Mode.SRC_IN); &lt;span class=&quot;comment&quot;&gt;// &amp;#x4EA4;&amp;#x96C6;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x641C;&amp;#x7D22;&amp;#x9879;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initSearchView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        SearchView searchView = (SearchView) MenuItemCompat.getActionView(mSearchItem);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        searchView.setOnQueryTextListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchView.OnQueryTextListener() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onQueryTextSubmit&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String query)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                MenuItemCompat.collapseActionView(mSearchItem);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                loadWeatherData(query); &lt;span class=&quot;comment&quot;&gt;// &amp;#x52A0;&amp;#x8F7D;&amp;#x67E5;&amp;#x8BE2;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onQueryTextChange&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String newText)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x52A0;&amp;#x8F7D;&amp;#x5929;&amp;#x6C14;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;loadWeatherData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String cityName)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBinding.progress.setVisibility(View.VISIBLE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mSubscription = mWeatherApiClient&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .getWeatherForCity(cityName)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .subscribeOn(Schedulers.io())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .observeOn(AndroidSchedulers.mainThread())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .subscribe(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;::bindData, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;::bindDataError);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x7ED1;&amp;#x5B9A;&amp;#x5929;&amp;#x6C14;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;bindData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(WeatherData weatherData)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBinding.progress.setVisibility(View.INVISIBLE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBinding.weatherLayout.setVisibility(View.VISIBLE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBinding.setWeatherData(weatherData);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x7ED1;&amp;#x5B9A;&amp;#x6570;&amp;#x636E;&amp;#x5931;&amp;#x8D25;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;bindDataError&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Throwable throwable)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBinding.progress.setVisibility(View.INVISIBLE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDestroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mSubscription != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            mSubscription.unsubscribe();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onDestroy();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6570;&amp;#x636E;&amp;#x7ED1;&amp;#x5B9A;&amp;#x5B9E;&amp;#x73B0;&amp;#x6570;&amp;#x636E;&amp;#x548C;&amp;#x663E;&amp;#x793A;&amp;#x5206;&amp;#x79BB;, &amp;#x89E3;&amp;#x8026;&amp;#x9879;&amp;#x76EE;, &amp;#x6613;&amp;#x4E8E;&amp;#x7BA1;&amp;#x7406;, &amp;#x975E;&amp;#x5E38;&amp;#x9002;&amp;#x5408;&amp;#x6570;&amp;#x636E;&amp;#x5C55;&amp;#x793A;&amp;#x9875;&amp;#x9762;.&lt;/p&gt;
&lt;p&gt;&amp;#x5728;layout&amp;#x4E2D;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6570;&amp;#x636E;.&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;variable&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;weatherData&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;clwang.chunyu.me.wcl_espresso_dagger_demo.data.WeatherData&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x7ED1;&amp;#x5B9A;&amp;#x6570;&amp;#x636E;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mBinding = DataBindingUtil.setContentView(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, R.layout.activity_main);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mBinding.setWeatherData(weatherData);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x641C;&amp;#x7D22;&amp;#x6846;&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreateOptionsMenu&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Menu menu)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    getMenuInflater().inflate(R.menu.menu_activity_main, menu); &lt;span class=&quot;comment&quot;&gt;// &amp;#x52A0;&amp;#x8F7D;&amp;#x76EE;&amp;#x5F55;&amp;#x8D44;&amp;#x6E90;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mSearchItem = menu.findItem(R.id.menu_action_search);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    tintSearchMenuItem();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    initSearchView();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#x641C;&amp;#x7D22;&amp;#x9879;&amp;#x7740;&amp;#x8272;, &amp;#x4F1A;&amp;#x8986;&amp;#x76D6;&amp;#x57FA;&amp;#x7840;&amp;#x989C;&amp;#x8272;, &amp;#x53D6;&amp;#x4EA4;&amp;#x96C6;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;tintSearchMenuItem&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; color = ContextCompat.getColor(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, android.R.color.white); &lt;span class=&quot;comment&quot;&gt;// &amp;#x767D;&amp;#x8272;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mSearchItem.getIcon().setColorFilter(color, PorterDuff.Mode.SRC_IN); &lt;span class=&quot;comment&quot;&gt;// &amp;#x4EA4;&amp;#x96C6;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#x641C;&amp;#x7D22;&amp;#x9879;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initSearchView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    SearchView searchView = (SearchView) MenuItemCompat.getActionView(mSearchItem);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    searchView.setOnQueryTextListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchView.OnQueryTextListener() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onQueryTextSubmit&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String query)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            MenuItemCompat.collapseActionView(mSearchItem);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            loadWeatherData(query); &lt;span class=&quot;comment&quot;&gt;// &amp;#x52A0;&amp;#x8F7D;&amp;#x67E5;&amp;#x8BE2;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onQueryTextChange&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String newText)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&quot;&gt;&lt;a href=&quot;#&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&quot;&gt;&lt;/a&gt;&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;, &amp;#x6211;&amp;#x4F1A;&amp;#x91CD;&amp;#x70B9;&amp;#x8BB2;&amp;#x89E3;.&lt;/p&gt;
&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x4F7F;&amp;#x7528;Dagger2, &amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x6765;&amp;#x914D;&amp;#x7F6E;&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;.&lt;br&gt;&amp;#x4E09;&amp;#x90E8;&amp;#x66F2;: Module -&amp;gt; Component -&amp;gt; Application&lt;/p&gt;
&lt;p&gt;Module, &amp;#x4F7F;&amp;#x7528;&amp;#x6A21;&amp;#x62DF;Api&amp;#x7C7B;, &lt;strong&gt;MockWeatherApiClient&lt;/strong&gt;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x6D4B;&amp;#x8BD5;App&amp;#x7684;Module, &amp;#x63D0;&amp;#x4F9B;AppContext, WeatherApiClient&amp;#x7684;&amp;#x6A21;&amp;#x62DF;&amp;#x6570;&amp;#x636E;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;lt;p&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Created by wangchenlong on 16/1/16.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Module&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TestAppModule&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Context mContext;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TestAppModule&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mContext = context.getApplicationContext();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@AppScope&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Provides&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Context &lt;span class=&quot;title&quot;&gt;provideAppContext&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mContext;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Provides&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; WeatherApiClient &lt;span class=&quot;title&quot;&gt;provideWeatherApiClient&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MockWeatherApiClient();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Component, &amp;#x6CE8;&amp;#x5165;&lt;strong&gt;MainActivityTest&lt;/strong&gt;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x6D4B;&amp;#x8BD5;&amp;#x7EC4;&amp;#x4EF6;, &amp;#x6DFB;&amp;#x52A0;TestAppModule&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;lt;p&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Created by wangchenlong on 16/1/16.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@AppScope&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;(modules = TestAppModule.class)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TestAppComponent&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AppComponent&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(MainActivityTest test)&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Application, &amp;#x7EE7;&amp;#x627F;&lt;strong&gt;&amp;#x975E;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;Application(WeatherApplication)&lt;/strong&gt;, &amp;#x8BBE;&amp;#x7F6E;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7EC4;&amp;#x4EF6;, &amp;#x91CD;&amp;#x5199;&lt;strong&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x7EC4;&amp;#x4EF6;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;(getAppComponent)&lt;/strong&gt;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x6D4B;&amp;#x8BD5;&amp;#x5929;&amp;#x6C14;&amp;#x5E94;&amp;#x7528;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;lt;p&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Created by wangchenlong on 16/1/16.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TestWeatherApplication&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;WeatherApplication&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; TestAppComponent mTestAppComponent;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mTestAppComponent = DaggerTestAppComponent.builder()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .testAppModule(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TestAppModule(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .build();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x7EC4;&amp;#x4EF6;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; TestAppComponent &lt;span class=&quot;title&quot;&gt;getAppComponent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mTestAppComponent;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Mock&amp;#x6570;&amp;#x636E;&amp;#x7C7B;, &amp;#x4F7F;&amp;#x7528;&amp;#x6A21;&amp;#x62DF;&amp;#x6570;&amp;#x636E;&amp;#x521B;&amp;#x5EFA;Gson&amp;#x7C7B;, &amp;#x5EF6;&amp;#x8FDF;&amp;#x53D1;&amp;#x9001;&amp;#x81F3;&amp;#x76D1;&amp;#x542C;&amp;#x63A5;&amp;#x53E3;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x6A21;&amp;#x62DF;&amp;#x5929;&amp;#x6C14;Api&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MockWeatherApiClient&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;WeatherApiClient&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Observable&amp;lt;WeatherData&amp;gt; &lt;span class=&quot;title&quot;&gt;getWeatherForCity&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String cityName)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &amp;#x83B7;&amp;#x5F97;&amp;#x6A21;&amp;#x62DF;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        WeatherData weatherData = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Gson().fromJson(TestData.MUNICH_WEATHER_DATA_JSON, WeatherData.class);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; Observable.just(weatherData).delay(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, TimeUnit.SECONDS); &lt;span class=&quot;comment&quot;&gt;// &amp;#x5EF6;&amp;#x8FDF;&amp;#x65F6;&amp;#x95F4;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x518C;Application&amp;#x81F3;TestRunner.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x66F4;&amp;#x6362;Application, &amp;#x8BBE;&amp;#x7F6E;TestRunner&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;WeatherTestRunner&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AndroidJUnitRunner&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Application &lt;span class=&quot;title&quot;&gt;newApplication&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ClassLoader cl, String className, Context context)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; InstantiationException,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            IllegalAccessException, ClassNotFoundException &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        String testApplicationClassName = TestWeatherApplication.class.getCanonicalName();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.newApplication(cl, testApplicationClassName, context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E3B;&amp;#x7C7B;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;Activity&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &amp;lt;p&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Created by wangchenlong on 16/1/16.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@LargeTest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@RunWith&lt;/span&gt;(AndroidJUnit4.class)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MainActivityTest&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String CITY_NAME = &lt;span class=&quot;string&quot;&gt;&amp;quot;Beijing&amp;quot;&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// &amp;#x56E0;&amp;#x4E3A;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&amp;#x6D4B;&amp;#x8BD5;&amp;#x63A5;&amp;#x53E3;, &amp;#x8BBE;&amp;#x7F6E;&amp;#x4EFB;&amp;#x4F55;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Rule&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; ActivityTestRule&amp;lt;MainActivity&amp;gt; activityTestRule = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ActivityTestRule&amp;lt;&amp;gt;(MainActivity.class);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Inject&lt;/span&gt; WeatherApiClient weatherApiClient;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Before&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ((TestWeatherApplication) activityTestRule.getActivity().getApplication()).getAppComponent().inject(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;correctWeatherDataDisplayed&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        WeatherData weatherData = weatherApiClient.getWeatherForCity(CITY_NAME).toBlocking().first();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(R.id.menu_action_search)).perform(click());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(android.support.v7.appcompat.R.id.search_src_text)).perform(replaceText(CITY_NAME));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(android.support.v7.appcompat.R.id.search_src_text)).perform(pressKey(KeyEvent.KEYCODE_ENTER));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(R.id.city_name)).check(matches(withText(weatherData.getCityName())));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(R.id.weather_date)).check(matches(withText(weatherData.getWeatherDate())));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(R.id.weather_state)).check(matches(withText(weatherData.getWeatherState())));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(R.id.weather_description)).check(matches(withText(weatherData.getWeatherDescription())));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(R.id.temperature)).check(matches(withText(weatherData.getTemperatureCelsius())));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onView(withId(R.id.humidity)).check(matches(withText(weatherData.getHumidity())));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ActivityTestRule&lt;/strong&gt;&amp;#x8BBE;&amp;#x7F6E;MainActivity.class&amp;#x6D4B;&amp;#x8BD5;&amp;#x7C7B;.&lt;br&gt;&lt;strong&gt;setup&lt;/strong&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;, &amp;#x6CE8;&amp;#x5165;TestWeatherApplication&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;WeatherApiClient&amp;#x7684;&amp;#x6570;&amp;#x636E;, &amp;#x6A21;&amp;#x62DF;&amp;#x7C7B;&amp;#x7684;&amp;#x529F;&amp;#x80FD;. &amp;#x7531;&amp;#x4E8E;&amp;#x6570;&amp;#x636E;&amp;#x662F;&amp;#x9884;&amp;#x8BBE;&amp;#x7684;, &amp;#x4E0D;&amp;#x8BBA;&amp;#x6709;&amp;#x65E0;&amp;#x7F51;&amp;#x7EDC;, &amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x53EF;&amp;#x9760;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;.&lt;/p&gt;
&lt;p&gt;&amp;#x6267;&amp;#x884C;&amp;#x6D4B;&amp;#x8BD5;, &amp;#x53F3;&amp;#x952E;&amp;#x70B9;&amp;#x51FB;&lt;strong&gt;MainActivityTest&lt;/strong&gt;, &amp;#x4F7F;&amp;#x7528;&lt;strong&gt;Run &amp;#x2018;MainActivityTest&amp;#x2019;&lt;/strong&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;OK, that&amp;#x2019;s all! Enjoy it!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/13/use-dagger-espresso-test-network/&quot;&gt;http://www.wangchenlong.org/2016/03/13/use-dagger-espresso-test-network/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;. &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x53EF;&amp;#x9760;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;, &amp;#x610F;&amp;#x5473;&amp;#x7740;&amp;#x5728;&amp;#x4EFB;&amp;#x4F55;&amp;#x65F6;&amp;#x5019;, &amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7ED3;&amp;#x679C;&amp;#x5747;&amp;#x76F8;&amp;#x540C;, &amp;#x8FD9;&amp;#x5C31;&amp;#x9700;&amp;#x8981;&amp;#x6A21;&amp;#x62DF;(Mock)&amp;#x6570;&amp;#x636E;. &amp;#x6D4B;&amp;#x8BD5;&amp;#x6846;&amp;#x67B6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;Android&amp;#x63A8;&amp;#x8350;&amp;#x7684;&lt;a href=&quot;https://google.github.io/android-testing-support-library/docs/espresso/&quot;&gt;Espresso&lt;/a&gt;. &amp;#x6A21;&amp;#x62DF;&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;a href=&quot;http://google.github.io/dagger/&quot;&gt;Dagger2&lt;/a&gt;, &amp;#x4E00;&amp;#x79CD;&amp;#x4F9D;&amp;#x8D56;&amp;#x6CE8;&amp;#x5165;&amp;#x6846;&amp;#x67B6;.&lt;/p&gt;
&lt;p&gt;&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x901A;&amp;#x5E38;&amp;#x4F1A;&amp;#x6A21;&amp;#x62DF;&amp;#x6240;&amp;#x6709;&amp;#x4F9D;&amp;#x8D56;, &amp;#x907F;&amp;#x514D;&amp;#x51FA;&amp;#x73B0;&amp;#x4E0D;&amp;#x53EF;&amp;#x9760;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;, &amp;#x800C;&amp;#x529F;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FD9;&amp;#x6837;&amp;#x505A;. &amp;#x4E00;&amp;#x4E2A;&amp;#x7ECF;&amp;#x5178;&amp;#x7684;&amp;#x4F8B;&amp;#x5B50;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x6A21;&amp;#x62DF;&amp;#x7A33;&amp;#x5B9A;&amp;#x7684;&amp;#x7F51;&amp;#x7EDC;&amp;#x6570;&amp;#x636E;, &amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;Dagger2&amp;#x5904;&amp;#x7406;&amp;#x8FD9;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;.&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="Espresso" scheme="http://www.wangchenlong.org/tags/Espresso/"/>
    
      <category term="Dagger" scheme="http://www.wangchenlong.org/tags/Dagger/"/>
    
      <category term="网络服务" scheme="http://www.wangchenlong.org/tags/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>实践移动端的Flux架构</title>
    <link href="http://www.wangchenlong.org/2016/03/12/apply-flux-architecture/"/>
    <id>http://www.wangchenlong.org/2016/03/12/apply-flux-architecture/</id>
    <published>2016-03-12T14:56:08.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;em&gt;&amp;#x4EFB;&amp;#x4F55;&amp;#x67B6;&amp;#x6784;&amp;#x6700;&amp;#x7EC8;&amp;#x76EE;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x8BA9;&amp;#x7A0B;&amp;#x5E8F;&amp;#x66F4;&amp;#x52A0;&amp;#x6709;&amp;#x5E8F;, &amp;#x529F;&amp;#x80FD;&amp;#x4FBF;&amp;#x4E8E;&amp;#x6269;&amp;#x5C55;, Bug&amp;#x5BB9;&amp;#x6613;&amp;#x8FFD;&amp;#x8E2A;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Facebook&amp;#x4F7F;&amp;#x7528;Flux&amp;#x67B6;&amp;#x6784;&amp;#x6765;&amp;#x6784;&amp;#x5EFA;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x7684;Web&amp;#x5E94;&amp;#x7528;. Flux&amp;#x67B6;&amp;#x6784;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x4E3A;&amp;#x79FB;&amp;#x52A8;&amp;#x7AEF;&amp;#x8BBE;&amp;#x8BA1;&amp;#x7684;, &amp;#x4F46;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x4ECD;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x91C7;&amp;#x7528;&amp;#x8FD9;&amp;#x4E2A;&amp;#x601D;&amp;#x60F3;&amp;#x5728;Android&amp;#x7AEF;&amp;#x4F7F;&amp;#x7528;. Flux&amp;#x662F;&amp;#x6570;&amp;#x636E;&amp;#x9A71;&amp;#x52A8;&amp;#x578B;&amp;#x67B6;&amp;#x6784;, &amp;#x5728;&amp;#x4EE5;&amp;#x6570;&amp;#x636E;&amp;#x4E3A;&amp;#x6838;&amp;#x5FC3;&amp;#x7684;&amp;#x573A;&amp;#x666F;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x975E;&amp;#x5E38;&amp;#x5408;&amp;#x9002;, &amp;#x4E0D;&amp;#x8FC7;Facebook&amp;#x597D;&amp;#x50CF;&amp;#x628A;&lt;strong&gt;Flux&amp;#x67B6;&amp;#x6784;&lt;/strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x4E8E;&amp;#x6240;&amp;#x6709;&amp;#x4EA7;&amp;#x54C1;, &lt;strong&gt;&amp;#x65E0;&amp;#x8BBA;&amp;#x662F;&amp;#x524D;&amp;#x7AEF;&amp;#x8FD8;&amp;#x662F;&amp;#x79FB;&amp;#x52A8;&amp;#x7AEF;&lt;/strong&gt;. &amp;#x6700;&amp;#x65B0;Facebook&amp;#x5F00;&amp;#x53D1;&amp;#x7684;&lt;a href=&quot;https://github.com/facebook/react-native&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ReactNative&lt;/a&gt;&amp;#x4E2D;, &amp;#x5C31;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;Flux&amp;#x67B6;&amp;#x6784;&amp;#x4E3A;&amp;#x6838;&amp;#x5FC3;, &amp;#x4E5F;&amp;#x662F;&amp;#x5F00;&amp;#x6E90;&amp;#x7684;, &amp;#x53EF;&amp;#x4EE5;&amp;#x9605;&amp;#x8BFB;RN&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x4E86;&amp;#x89E3;&amp;#x6240;&amp;#x6709;&amp;#x5185;&amp;#x5BB9;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Flux&amp;#x67B6;&amp;#x6784;, &amp;#x987E;&amp;#x540D;&amp;#x601D;&amp;#x4E49;&amp;#x8868;&amp;#x793A;&lt;em&gt;&amp;#x6D41;&lt;/em&gt;, &amp;#x662F;&amp;#x4EE5;&amp;#x6570;&amp;#x636E;&amp;#x6D41;&amp;#x4E3A;&amp;#x57FA;&amp;#x7840;. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x672C;&amp;#x6587;&amp;#x6E90;&amp;#x7801;&amp;#x7684;Github&lt;a href=&quot;https://github.com/SpikeKing/MyFluxApp-TodoList&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5730;&amp;#x5740;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x57FA;&amp;#x672C;&amp;#x67B6;&amp;#x6784;&amp;#x6A21;&amp;#x578B;&amp;#x5982;&amp;#x56FE;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/12/apply-flux-architecture/architecture.png&quot; alt=&quot;&amp;#x67B6;&amp;#x6784;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6A21;&amp;#x578B;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x4E3A;&amp;#x56DB;&amp;#x4E2A;&amp;#x6A21;&amp;#x5757;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;View&lt;/strong&gt;: &amp;#x89C6;&amp;#x56FE;, &amp;#x6839;&amp;#x636E;&lt;strong&gt;&amp;#x7528;&amp;#x6237;&amp;#x4EA4;&amp;#x4E92;(Use Interaction)&lt;/strong&gt;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x521B;&amp;#x5EFA;&amp;#x54CD;&amp;#x5E94;&amp;#x4E8B;&amp;#x4EF6;, &amp;#x8C03;&amp;#x7528;&lt;strong&gt;&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;(ActionCreator)&lt;/strong&gt;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;, &amp;#x53D1;&amp;#x9001;&amp;#x54CD;&amp;#x5E94;&amp;#x7528;&amp;#x6237;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ActionCreator&lt;/strong&gt;: &amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;, &amp;#x628A;&amp;#x6D3B;&amp;#x52A8;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x548C;&amp;#x6570;&amp;#x636E;&amp;#x53D1;&amp;#x9001;&amp;#x7ED9;&lt;strong&gt;&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;(Dispatcher)&lt;/strong&gt;, &amp;#x6839;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x548C;&amp;#x6570;&amp;#x636E;&amp;#x521B;&amp;#x5EFA;&lt;strong&gt;&amp;#x6D3B;&amp;#x52A8;(Action)&lt;/strong&gt;. &amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&lt;strong&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x64CD;&amp;#x4F5C;(WebApi)&lt;/strong&gt;, &amp;#x5B8C;&amp;#x6210;&amp;#x540E;, &amp;#x518D;&amp;#x53D1;&amp;#x9001;&amp;#x6570;&amp;#x636E;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dispatcher&lt;/strong&gt;: &amp;#x8C03;&amp;#x5EA6;&amp;#x5668;, &amp;#x628A;&amp;#x63A5;&amp;#x6536;&amp;#x5230;&amp;#x7684;&amp;#x6D3B;&amp;#x52A8;, &amp;#x901A;&amp;#x8FC7;&lt;strong&gt;&amp;#x603B;&amp;#x7EBF;(EventBus)&lt;/strong&gt;, &amp;#x628A;&amp;#x6D3B;&amp;#x52A8;&amp;#x53D1;&amp;#x9001;&amp;#x51FA;&amp;#x53BB;, &amp;#x7531;&lt;strong&gt;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;(Store)&lt;/strong&gt;&amp;#x6839;&amp;#x636E;&amp;#x6D3B;&amp;#x52A8;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x548C;&amp;#x6570;&amp;#x636E;, &amp;#x4FEE;&amp;#x6539;&amp;#x6570;&amp;#x636E;&amp;#x6A21;&amp;#x578B;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Store&lt;/strong&gt;: &amp;#x5B58;&amp;#x50A8;&amp;#x5668;, &amp;#x7EF4;&amp;#x62A4;&amp;#x7279;&amp;#x5B9A;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x72B6;&amp;#x6001;, &amp;#x63A5;&amp;#x6536;&amp;#x603B;&amp;#x7EBF;&amp;#x5206;&amp;#x53D1;&amp;#x7684;&amp;#x6D3B;&amp;#x52A8;, &amp;#x6839;&amp;#x636E;&amp;#x6D3B;&amp;#x52A8;&amp;#x7C7B;&amp;#x578B;&amp;#x6267;&amp;#x884C;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;. &amp;#x5728;&amp;#x5B8C;&amp;#x6210;&amp;#x65F6;, &amp;#x53D1;&amp;#x51FA;&lt;strong&gt;&amp;#x6570;&amp;#x636E;&amp;#x4FEE;&amp;#x6539;(ChangeEvent)&lt;/strong&gt;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;, &amp;#x89C6;&amp;#x56FE;&amp;#x76D1;&amp;#x542C;&amp;#x8FD9;&amp;#x4E00;&amp;#x4E8B;&amp;#x4EF6;, &amp;#x66F4;&amp;#x65B0;&amp;#x663E;&amp;#x793A;&amp;#x5185;&amp;#x5BB9;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Talk is cheap, show you the code.&lt;br&gt;&amp;#x53EA;&amp;#x6709;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE3;&amp;#x7801;&amp;#x624D;&amp;#x80FD;&amp;#x771F;&amp;#x6B63;&amp;#x7684;&amp;#x4E86;&amp;#x89E3;&amp;#x67B6;&amp;#x6784;&amp;#x7684;&amp;#x610F;&amp;#x4E49;, &amp;#x6211;&amp;#x5199;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x57FA;&amp;#x4E8E;Flux&amp;#x67B6;&amp;#x6784;&amp;#x7684;ToDoList.&lt;br&gt;&amp;#x9875;&amp;#x9762;&amp;#x53D1;&amp;#x9001;&amp;#x5404;&amp;#x79CD;&lt;strong&gt;&amp;#x589E;&amp;#x5220;&amp;#x6539;&amp;#x67E5;&lt;/strong&gt;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;, &amp;#x901A;&amp;#x8FC7;&lt;strong&gt;Flux&amp;#x6A21;&amp;#x578B;&lt;/strong&gt;, &amp;#x4FEE;&amp;#x6539;&amp;#x672C;&amp;#x5730;&amp;#x5B58;&amp;#x50A8;&amp;#x7684;&amp;#x6570;&amp;#x636E;, &amp;#x518D;&amp;#x53CD;&amp;#x9988;&amp;#x56DE;&amp;#x9875;&amp;#x9762;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/12/apply-flux-architecture/app.png&quot; alt=&quot;TodoList&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x89C6;&amp;#x56FE;&quot;&gt;&lt;a href=&quot;#&amp;#x89C6;&amp;#x56FE;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x89C6;&amp;#x56FE;&quot;&gt;&lt;/a&gt;&amp;#x89C6;&amp;#x56FE;&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;&amp;#x89C6;&amp;#x56FE;(View)&lt;/strong&gt;: &amp;#x89C6;&amp;#x56FE;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;Activity, &amp;#x8D1F;&amp;#x8D23;&amp;#x54CD;&amp;#x5E94;&lt;strong&gt;&amp;#x7528;&amp;#x6237;&amp;#x4EA4;&amp;#x4E92;(Use Interaction)&lt;/strong&gt;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;, &amp;#x53D1;&amp;#x9001;&amp;#x5230;&amp;#x7ED9;&lt;strong&gt;&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;(ActionCreator)&lt;/strong&gt;; &amp;#x540C;&amp;#x65F6;&amp;#x63A5;&amp;#x6536;&lt;strong&gt;&amp;#x4FEE;&amp;#x6539;&amp;#x6570;&amp;#x636E;(ChangeEvent)&lt;/strong&gt;&amp;#x4E8B;&amp;#x4EF6;, &amp;#x66F4;&amp;#x65B0;&amp;#x9875;&amp;#x9762;.&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MainActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AppCompatActivity&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6DFB;&amp;#x52A0;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@OnClick&lt;/span&gt;(R.id.main_add) &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addItem&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        addTodo(); &lt;span class=&quot;comment&quot;&gt;// &amp;#x6DFB;&amp;#x52A0;TodoItem&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        resetMainInput(); &lt;span class=&quot;comment&quot;&gt;// &amp;#x91CD;&amp;#x7F6E;&amp;#x8F93;&amp;#x5165;&amp;#x6846;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x9009;&amp;#x4E2D;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@OnClick&lt;/span&gt;(R.id.main_checkbox) &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;checkItem&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        checkAll(); &lt;span class=&quot;comment&quot;&gt;// &amp;#x6240;&amp;#x6709;Item&amp;#x9879;&amp;#x6539;&amp;#x53D8;&amp;#x9009;&amp;#x4E2D;&amp;#x72B6;&amp;#x6001;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setContentView(R.layout.activity_main); &lt;span class=&quot;comment&quot;&gt;// &amp;#x8BBE;&amp;#x7F6E;Layout&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ButterKnife.bind(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// &amp;#x7ED1;&amp;#x5B9A;ButterKnife&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        initDependencies(); &lt;span class=&quot;comment&quot;&gt;// &amp;#x521B;&amp;#x5EFA;Flux&amp;#x7684;&amp;#x6838;&amp;#x5FC3;&amp;#x7BA1;&amp;#x7406;&amp;#x7C7B;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &amp;#x8BBE;&amp;#x7F6E;RecyclerView&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mMainList.setLayoutManager(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LinearLayoutManager(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mListAdapter = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; RecyclerAdapter(sActionsCreator);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mMainList.setAdapter(mListAdapter);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x521D;&amp;#x59CB;&amp;#x5316;: Dispatcher&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;, Action&amp;#x4E8B;&amp;#x4EF6;, Store&amp;#x72B6;&amp;#x6001;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initDependencies&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sDispatcher = Dispatcher.getInstance(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Bus());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sActionsCreator = ActionsCreator.getInstance(sDispatcher);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sTodoStore = TodoStore.getInstance(sDispatcher);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResume&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onResume();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &amp;#x628A;&amp;#x8BA2;&amp;#x9605;&amp;#x63A5;&amp;#x53E3;&amp;#x6CE8;&amp;#x518C;&amp;#x5230;EventBus&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sDispatcher.register(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sDispatcher.register(sTodoStore);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onPause&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onPause();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &amp;#x89E3;&amp;#x9664;&amp;#x8BA2;&amp;#x9605;&amp;#x63A5;&amp;#x53E3;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sDispatcher.unregister(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sDispatcher.unregister(sTodoStore);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6539;&amp;#x53D8;&amp;#x6539;&amp;#x53D8;&amp;#x6240;&amp;#x6709;&amp;#x72B6;&amp;#x6001;(ActionsCreator)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;checkAll&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sActionsCreator.toggleCompleteAll();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6E05;&amp;#x7406;&amp;#x9009;&amp;#x4E2D;&amp;#x7684;&amp;#x9879;(ActionsCreator)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;clearCompleted&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sActionsCreator.destroyCompleted();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x63A5;&amp;#x6536;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x6539;&amp;#x53D8;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Subscribe&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onTodoStoreChange&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TodoStore.TodoStoreChangeEvent event)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        updateUI();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x66F4;&amp;#x65B0;UI, &amp;#x6838;&amp;#x5FC3;&amp;#x65B9;&amp;#x6CD5;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;updateUI&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &amp;#x8BBE;&amp;#x7F6E;&amp;#x9002;&amp;#x914D;&amp;#x5668;&amp;#x6570;&amp;#x636E;, &amp;#x6BCF;&amp;#x6B21;&amp;#x66F4;&amp;#x65B0;TodoStore&amp;#x7684;&amp;#x72B6;&amp;#x6001;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mListAdapter.setItems(sTodoStore.getTodos());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x6BD4;&amp;#x8F83;&amp;#x957F;, &amp;#x53EA;&amp;#x622A;&amp;#x53D6;&amp;#x4E86;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;. &amp;#x5176;&amp;#x4E2D;View&amp;#x7684;&amp;#x6838;&amp;#x5FC3;&amp;#x90E8;&amp;#x5206;:&lt;br&gt;(1) &lt;strong&gt;&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;(ActionsCreator)&lt;/strong&gt;, &amp;#x8D1F;&amp;#x8D23;&amp;#x54CD;&amp;#x5E94;&amp;#x7528;&amp;#x6237;&amp;#x4EA4;&amp;#x4E92;&amp;#x4E8B;&amp;#x4EF6;, &amp;#x5982;&lt;strong&gt;checkAll()&lt;/strong&gt;&amp;#x7B49;.&lt;br&gt;(2) &lt;strong&gt;&amp;#x63A5;&amp;#x6536;&amp;#x72B6;&amp;#x6001;&amp;#x4FEE;&amp;#x6539;(onTodoStoreChange)&lt;/strong&gt;, &amp;#x8D1F;&amp;#x8D23;&amp;#x63A5;&amp;#x6536;&lt;strong&gt;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;(Store)&lt;/strong&gt;&amp;#x4FEE;&amp;#x6539;&amp;#x5B8C;&amp;#x6210;&amp;#x7684;&amp;#x6570;&amp;#x636E;, &amp;#x5E76;&lt;strong&gt;&amp;#x66F4;&amp;#x65B0;&amp;#x9875;&amp;#x9762;(updateUI)&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;&quot;&gt;&lt;a href=&quot;#&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;&quot;&gt;&lt;/a&gt;&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x5668;(ActionsCreator)&lt;/strong&gt;: &amp;#x4E3B;&amp;#x8981;&amp;#x8D1F;&amp;#x8D23;&amp;#x6839;&amp;#x636E;&lt;strong&gt;&amp;#x54CD;&amp;#x5E94;&amp;#x4E8B;&amp;#x4EF6;&lt;/strong&gt;&amp;#x7684;&lt;strong&gt;&amp;#x7C7B;&amp;#x578B;&lt;/strong&gt;&amp;#x548C;&lt;strong&gt;&amp;#x6570;&amp;#x636E;&lt;/strong&gt;, &amp;#x53D1;&amp;#x9001;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x6D3B;&amp;#x52A8;&amp;#x5230;&lt;strong&gt;&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;(Dispatch)&lt;/strong&gt;. &amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D1;&amp;#x9001;&lt;strong&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;(WebApi)&lt;/strong&gt;, &amp;#x83B7;&amp;#x53D6;&amp;#x5F02;&amp;#x6B65;&amp;#x6570;&amp;#x636E;, &amp;#x5B8C;&amp;#x6210;&amp;#x540E;&amp;#x518D;&amp;#x53D1;&amp;#x9001;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ActionsCreator&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; ActionsCreator sInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Dispatcher mDispatcher;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ActionsCreator&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Dispatcher dispatcher)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mDispatcher = dispatcher;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; ActionsCreator &lt;span class=&quot;title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Dispatcher dispatcher)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (sInstance == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sInstance = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ActionsCreator(dispatcher);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String text)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mDispatcher.dispatch(TodoActions.TODO_CREATE, TodoActions.KEY_TEXT, text);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;destroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; id)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mDispatcher.dispatch(TodoActions.TODO_DESTROY, TodoActions.KEY_ID, id);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x6D3B;&amp;#x52A8;&amp;#x5728;&lt;strong&gt;&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;(Dispatcher)&lt;/strong&gt;&amp;#x4E2D;&amp;#x521B;&amp;#x5EFA;.&lt;br&gt;&lt;strong&gt;&amp;#x6D3B;&amp;#x52A8;&amp;#x521B;&amp;#x9020;&amp;#x5668;(ActionsCreator)&lt;/strong&gt;, &amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x662F;&lt;strong&gt;&amp;#x7C7B;&amp;#x578B;&lt;/strong&gt;, &amp;#x5176;&amp;#x4F59;&amp;#x53C2;&amp;#x6570;&amp;#x662F;&amp;#x6570;&amp;#x636E;, &amp;#x5373;&lt;strong&gt;&amp;#x914D;&amp;#x5BF9;&amp;#x7684;Key-Value&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;&quot;&gt;&lt;a href=&quot;#&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;&quot;&gt;&lt;/a&gt;&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;&lt;/h1&gt;&lt;p&gt;&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;(Dispatcher), &amp;#x662F;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x7684;&amp;#x4E2D;&amp;#x5FC3;, &amp;#x4F7F;&amp;#x7528;&lt;strong&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x603B;&amp;#x7EBF;(EventBus)&lt;/strong&gt;, &amp;#x53D1;&amp;#x9001;&amp;#x6D3B;&amp;#x52A8;&amp;#x5230;&lt;strong&gt;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;(Store)&lt;/strong&gt;. &amp;#x5B58;&amp;#x50A8;&amp;#x5668;&amp;#x6839;&amp;#x636E;&amp;#x6D3B;&amp;#x52A8;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x548C;&amp;#x6570;&amp;#x636E;, &amp;#x8FDB;&amp;#x884C;&amp;#x5904;&amp;#x7406;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Dispatcher&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Bus mBus;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Dispatcher sInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Dispatcher&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bus bus)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBus = bus;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Dispatcher &lt;span class=&quot;title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bus bus)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (sInstance == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sInstance = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Dispatcher(bus);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Object cls)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBus.register(cls);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;unregister&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Object cls)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBus.unregister(cls);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Object event)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mBus.post(event);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &amp;#x6BCF;&amp;#x4E2A;&amp;#x72B6;&amp;#x6001;&amp;#x6539;&amp;#x53D8;&amp;#x90FD;&amp;#x9700;&amp;#x8981;&amp;#x53D1;&amp;#x9001;&amp;#x4E8B;&amp;#x4EF6;, &amp;#x7531;View&amp;#x76F8;&amp;#x5E94;, &amp;#x505A;&amp;#x51FA;&amp;#x66F4;&amp;#x6539;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;emitChange&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Store.StoreChangeEvent o)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        post(o);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     * &amp;#x8C03;&amp;#x5EA6;&amp;#x6838;&amp;#x5FC3;&amp;#x51FD;&amp;#x6570;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; type &amp;#x8C03;&amp;#x5EA6;&amp;#x7C7B;&amp;#x578B;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; data &amp;#x6570;&amp;#x636E;(Key, Value)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String type, Object... data)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (type == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; || type.isEmpty()) { &lt;span class=&quot;comment&quot;&gt;// &amp;#x6570;&amp;#x636E;&amp;#x7A7A;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;string&quot;&gt;&amp;quot;Type must not be empty&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (data.length % &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; != &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) { &lt;span class=&quot;comment&quot;&gt;// &amp;#x975E;Key-Value&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;string&quot;&gt;&amp;quot;Data must be a valid list of key,value pairs&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Action.Builder actionBuilder = Action.type(type);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (i &amp;lt; data.length) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            String key = (String) data[i++];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Object value = data[i++];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            actionBuilder.bundle(key, value); &lt;span class=&quot;comment&quot;&gt;// &amp;#x653E;&amp;#x7F6E;&amp;#x952E;&amp;#x503C;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &amp;#x53D1;&amp;#x9001;&amp;#x5230;EventBus&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        post(actionBuilder.build());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x8C03;&amp;#x5EA6;&amp;#x5668;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x603B;&amp;#x7EBF;(EventBus)&lt;/strong&gt;&amp;#x5206;&amp;#x53D1;&amp;#x6570;&amp;#x636E;, &amp;#x6709;&amp;#x4E24;&amp;#x4E2A;&amp;#x6838;&amp;#x5FC3;&amp;#x90E8;&amp;#x5206;:&lt;br&gt;(1) &lt;strong&gt;dispatch()&lt;/strong&gt;: &amp;#x628A;&lt;strong&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x548C;&amp;#x6570;&amp;#x636E;&lt;/strong&gt;&amp;#x7EC4;&amp;#x6210;&lt;strong&gt;&amp;#x6D3B;&amp;#x52A8;(Action)&lt;/strong&gt;, &amp;#x53D1;&amp;#x9001;&amp;#x81F3;&lt;strong&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x603B;&amp;#x7EBF;(EventBus)&lt;/strong&gt;, &amp;#x7531;&lt;strong&gt;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;(Store)&lt;/strong&gt;&amp;#x8D1F;&amp;#x8D23;&amp;#x5904;&amp;#x7406;.&lt;br&gt;(2) &lt;strong&gt;emitChange()&lt;/strong&gt;: &amp;#x628A;&lt;strong&gt;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;(Store)&lt;/strong&gt;&amp;#x5904;&amp;#x7406;&amp;#x5B8C;&amp;#x7684;&amp;#x72B6;&amp;#x6001;&amp;#x548C;&amp;#x6570;&amp;#x636E;, &amp;#x53D1;&amp;#x9001;&amp;#x4FEE;&amp;#x6539;&amp;#x901A;&amp;#x77E5;&amp;#x81F3;&lt;strong&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x603B;&amp;#x7EBF;(EventBus)&lt;/strong&gt;, &amp;#x63D0;&amp;#x793A;&lt;strong&gt;&amp;#x89C6;&amp;#x56FE;(View)&lt;/strong&gt;&amp;#x8FDB;&amp;#x884C;&lt;strong&gt;&amp;#x66F4;&amp;#x65B0;&amp;#x9875;&amp;#x9762;(UpdateUI)&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;&quot;&gt;&lt;a href=&quot;#&amp;#x5B58;&amp;#x50A8;&amp;#x5668;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;&quot;&gt;&lt;/a&gt;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;(Store)&lt;/strong&gt;: &amp;#x8D1F;&amp;#x8D23;&amp;#x5B58;&amp;#x50A8;&amp;#x6570;&amp;#x636E;&amp;#x548C;&amp;#x72B6;&amp;#x6001;, &amp;#x63A5;&amp;#x6536;&lt;strong&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x603B;&amp;#x7EBF;(EventBus)&lt;/strong&gt;&amp;#x4E0A;&amp;#x7684;&amp;#x4FEE;&amp;#x6539;&amp;#x901A;&amp;#x77E5;, &amp;#x6839;&amp;#x636E;&lt;strong&gt;&amp;#x7C7B;&amp;#x578B;&lt;/strong&gt;, &amp;#x4FEE;&amp;#x6539;&lt;strong&gt;&amp;#x6570;&amp;#x636E;&amp;#x548C;&amp;#x72B6;&amp;#x6001;&lt;/strong&gt;. &amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x548C;&amp;#x672C;&amp;#x5730;&amp;#x5B58;&amp;#x50A8;.&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TodoStore&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Store&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; TodoStore sInstance; &lt;span class=&quot;comment&quot;&gt;// &amp;#x5355;&amp;#x4F8B;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;Todo&amp;gt; mTodos; &lt;span class=&quot;comment&quot;&gt;// &amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Todo lastDeleted; &lt;span class=&quot;comment&quot;&gt;// &amp;#x72B6;&amp;#x6001;: &amp;#x6700;&amp;#x8FD1;&amp;#x4E00;&amp;#x6B21;&amp;#x5220;&amp;#x9664;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TodoStore&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Dispatcher dispatcher)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(dispatcher);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mTodos = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; TodoStore &lt;span class=&quot;title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Dispatcher dispatcher)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (sInstance == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sInstance = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TodoStore(dispatcher);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Subscribe&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onAction&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Action action)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; id;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (action.getType()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; TodoActions.TODO_CREATE:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                String text = ((String) action.getData().get(TodoActions.KEY_TEXT));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                create(text);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                emitStoreChange(); &lt;span class=&quot;comment&quot;&gt;// &amp;#x53D1;&amp;#x751F;&amp;#x6539;&amp;#x53D8;&amp;#x4E8B;&amp;#x4EF6;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; TodoActions.TODO_DESTROY:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                id = ((&lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt;) action.getData().get(TodoActions.KEY_ID));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                destroy(id);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                emitStoreChange();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; TodoActions.TODO_UNDO_DESTROY:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                undoDestroy();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                emitStoreChange();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;destroyCompleted&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Iterator&amp;lt;Todo&amp;gt; iter = mTodos.iterator();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (iter.hasNext()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Todo todo = iter.next();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (todo.isComplete()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                iter.remove();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; StoreChangeEvent &lt;span class=&quot;title&quot;&gt;changeEvent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TodoStoreChangeEvent();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x5B58;&amp;#x50A8;&amp;#x5668;(Store)&lt;/strong&gt;&amp;#x7684;&amp;#x6838;&amp;#x5FC3;&amp;#x662F;&lt;strong&gt;onAction()&amp;#x65B9;&amp;#x6CD5;&lt;/strong&gt;, &amp;#x83B7;&amp;#x5F97;&lt;strong&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x603B;&amp;#x7EBF;(EventBus)&lt;/strong&gt;&amp;#x7684;&amp;#x901A;&amp;#x77E5;, &amp;#x4FEE;&amp;#x6539;&amp;#x6570;&amp;#x636E;, &amp;#x5B8C;&amp;#x6210;&amp;#x540E;&amp;#x8C03;&amp;#x7528;&lt;strong&gt;emitStoreChange()&amp;#x65B9;&amp;#x6CD5;&lt;/strong&gt;, &amp;#x901A;&amp;#x77E5;&lt;strong&gt;&amp;#x89C6;&amp;#x56FE;(View)&lt;/strong&gt;&amp;#x8FDB;&amp;#x884C;&lt;strong&gt;&amp;#x6570;&amp;#x636E;&amp;#x66F4;&amp;#x65B0;(UpdateUI)&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x6574;&amp;#x5957;&amp;#x7684;&amp;#x5FAA;&amp;#x73AF;&amp;#x903B;&amp;#x8F91;&amp;#x90FD;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B8C;&amp;#x6210;, &amp;#x6E05;&amp;#x6670;&amp;#x53EF;&amp;#x89C1;, &amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x67B6;&amp;#x6784;&amp;#x7684;&amp;#x597D;&amp;#x5904;&amp;#x5427;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Flux: View -&amp;gt; Action -&amp;gt; Dispatcher -&amp;gt; Store -&amp;gt; View.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x60F3;&amp;#x66F4;&amp;#x591A;&amp;#x7684;&amp;#x4E86;&amp;#x89E3;Flux&amp;#x67B6;&amp;#x6784;, &lt;a href=&quot;https://facebook.github.io/flux/docs/overview.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt;&amp;#x548C;&lt;a href=&quot;http://lgvalle.xyz/2015/08/04/flux-architecture/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;OK, that&amp;#x2019;s all! Enjoy it!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/12/apply-flux-architecture/&quot;&gt;http://www.wangchenlong.org/2016/03/12/apply-flux-architecture/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;. &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;&amp;#x4EFB;&amp;#x4F55;&amp;#x67B6;&amp;#x6784;&amp;#x6700;&amp;#x7EC8;&amp;#x76EE;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x8BA9;&amp;#x7A0B;&amp;#x5E8F;&amp;#x66F4;&amp;#x52A0;&amp;#x6709;&amp;#x5E8F;, &amp;#x529F;&amp;#x80FD;&amp;#x4FBF;&amp;#x4E8E;&amp;#x6269;&amp;#x5C55;, Bug&amp;#x5BB9;&amp;#x6613;&amp;#x8FFD;&amp;#x8E2A;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Facebook&amp;#x4F7F;&amp;#x7528;Flux&amp;#x67B6;&amp;#x6784;&amp;#x6765;&amp;#x6784;&amp;#x5EFA;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x7684;Web&amp;#x5E94;&amp;#x7528;. Flux&amp;#x67B6;&amp;#x6784;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x4E3A;&amp;#x79FB;&amp;#x52A8;&amp;#x7AEF;&amp;#x8BBE;&amp;#x8BA1;&amp;#x7684;, &amp;#x4F46;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x4ECD;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x91C7;&amp;#x7528;&amp;#x8FD9;&amp;#x4E2A;&amp;#x601D;&amp;#x60F3;&amp;#x5728;Android&amp;#x7AEF;&amp;#x4F7F;&amp;#x7528;. Flux&amp;#x662F;&amp;#x6570;&amp;#x636E;&amp;#x9A71;&amp;#x52A8;&amp;#x578B;&amp;#x67B6;&amp;#x6784;, &amp;#x5728;&amp;#x4EE5;&amp;#x6570;&amp;#x636E;&amp;#x4E3A;&amp;#x6838;&amp;#x5FC3;&amp;#x7684;&amp;#x573A;&amp;#x666F;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x975E;&amp;#x5E38;&amp;#x5408;&amp;#x9002;, &amp;#x4E0D;&amp;#x8FC7;Facebook&amp;#x597D;&amp;#x50CF;&amp;#x628A;&lt;strong&gt;Flux&amp;#x67B6;&amp;#x6784;&lt;/strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x4E8E;&amp;#x6240;&amp;#x6709;&amp;#x4EA7;&amp;#x54C1;, &lt;strong&gt;&amp;#x65E0;&amp;#x8BBA;&amp;#x662F;&amp;#x524D;&amp;#x7AEF;&amp;#x8FD8;&amp;#x662F;&amp;#x79FB;&amp;#x52A8;&amp;#x7AEF;&lt;/strong&gt;. &amp;#x6700;&amp;#x65B0;Facebook&amp;#x5F00;&amp;#x53D1;&amp;#x7684;&lt;a href=&quot;https://github.com/facebook/react-native&quot;&gt;ReactNative&lt;/a&gt;&amp;#x4E2D;, &amp;#x5C31;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;Flux&amp;#x67B6;&amp;#x6784;&amp;#x4E3A;&amp;#x6838;&amp;#x5FC3;, &amp;#x4E5F;&amp;#x662F;&amp;#x5F00;&amp;#x6E90;&amp;#x7684;, &amp;#x53EF;&amp;#x4EE5;&amp;#x9605;&amp;#x8BFB;RN&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x4E86;&amp;#x89E3;&amp;#x6240;&amp;#x6709;&amp;#x5185;&amp;#x5BB9;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Flux&amp;#x67B6;&amp;#x6784;, &amp;#x987E;&amp;#x540D;&amp;#x601D;&amp;#x4E49;&amp;#x8868;&amp;#x793A;&lt;em&gt;&amp;#x6D41;&lt;/em&gt;, &amp;#x662F;&amp;#x4EE5;&amp;#x6570;&amp;#x636E;&amp;#x6D41;&amp;#x4E3A;&amp;#x57FA;&amp;#x7840;. &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="Flux" scheme="http://www.wangchenlong.org/tags/Flux/"/>
    
      <category term="架构" scheme="http://www.wangchenlong.org/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>提取应用的签名和包名</title>
    <link href="http://www.wangchenlong.org/2016/03/12/get-app-cert-and-package/"/>
    <id>http://www.wangchenlong.org/2016/03/12/get-app-cert-and-package/</id>
    <published>2016-03-12T10:20:07.000Z</published>
    <updated>2016-03-14T23:31:39.000Z</updated>
    
    <content type="html">&lt;p&gt;Android&amp;#x5E94;&amp;#x7528;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#x7684;&amp;#x5E93;&amp;#x65F6;, &amp;#x53EF;&amp;#x80FD;&amp;#x9700;&amp;#x8981;&lt;strong&gt;&amp;#x7533;&amp;#x8BF7;&amp;#x5BC6;&amp;#x94A5;&lt;/strong&gt;, &amp;#x8868;&amp;#x660E;&amp;#x5E94;&amp;#x7528;&amp;#x8EAB;&amp;#x4EFD;, &amp;#x5982;&amp;#x9AD8;&amp;#x5FB7;&amp;#x5B9A;&amp;#x4F4D;SDK&amp;#x7B49;. &lt;strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x7B7E;&amp;#x540D;(printcert)&lt;/strong&gt;&amp;#x662F;&amp;#x516C;&amp;#x5F00;&amp;#x7684;, &amp;#x53EA;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5230;Apk&amp;#x5305;, &amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x516C;&amp;#x5F00;&amp;#x63D0;&amp;#x53D6;. &amp;#x7B7E;&amp;#x540D;&amp;#x4E2D;&amp;#x5305;&amp;#x542B;&lt;strong&gt;MD5&lt;/strong&gt;, &lt;strong&gt;SHA1&lt;/strong&gt;, &lt;strong&gt;SHA256&lt;/strong&gt;. &lt;strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x552F;&amp;#x4E00;&amp;#x6027;&lt;/strong&gt;&amp;#x5C31;&amp;#x662F;&amp;#x8868;&amp;#x73B0;&amp;#x4E3A;&lt;strong&gt;&amp;#x7B7E;&amp;#x540D;+&amp;#x5305;&amp;#x540D;&lt;/strong&gt;, &amp;#x5C31;&amp;#x50CF;&amp;#x4EBA;&amp;#x7684;&amp;#x6307;&amp;#x7EB9;&amp;#x4E00;&amp;#x6837;&amp;#x91CD;&amp;#x8981;, &amp;#x662F;&amp;#x786E;&amp;#x5B9A;&amp;#x5E94;&amp;#x7528;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;&amp;#x91CD;&amp;#x8981;&amp;#x4FE1;&amp;#x606F;, &amp;#x4E5F;&amp;#x662F;&lt;strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x5546;&amp;#x5E97;&lt;/strong&gt;&amp;#x68C0;&amp;#x6D4B;&amp;#x76D7;&amp;#x7248;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x9014;&amp;#x5F84;. &lt;/p&gt;
&lt;p&gt;&amp;#x672C;&amp;#x6587;&amp;#x8BB2;&amp;#x89E3;&amp;#x5982;&amp;#x4F55;&amp;#x63D0;&amp;#x53D6;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&lt;strong&gt;&amp;#x7B7E;&amp;#x540D;&amp;#x548C;&amp;#x5305;&amp;#x540D;&lt;/strong&gt;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/12/get-app-cert-and-package/fingerprint.jpg&quot; alt=&quot;&amp;#x6307;&amp;#x7EB9;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x7B7E;&amp;#x540D;&quot;&gt;&lt;a href=&quot;#&amp;#x7B7E;&amp;#x540D;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B7E;&amp;#x540D;&quot;&gt;&lt;/a&gt;&amp;#x7B7E;&amp;#x540D;&lt;/h1&gt;&lt;p&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x7B7E;&amp;#x540D;&amp;#x5305;&amp;#x542B;&amp;#x4E24;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;:&lt;br&gt;&lt;strong&gt;(1) Keystore&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7B7E;&amp;#x540D;&lt;/strong&gt;: &amp;#x5B58;&amp;#x653E;&amp;#x4F4D;&amp;#x7F6E;: &lt;code&gt;~/.android/debug.keystore&lt;/code&gt;.&lt;br&gt;&amp;#x65E5;&amp;#x5E38;&amp;#x6D4B;&amp;#x8BD5;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x7B7E;&amp;#x540D;, &amp;#x5747;&amp;#x6765;&amp;#x81EA;&amp;#x4E8E;&amp;#x6B64;, &amp;#x63D0;&amp;#x53D6;&amp;#x5BC6;&amp;#x94A5;.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;keytool -list -v -keystore debug.keystore&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8F93;&amp;#x5165;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5BC6;&amp;#x94A5;&amp;#x5E93;&amp;#x53E3;&amp;#x4EE4;: &lt;strong&gt;android&lt;/strong&gt;&lt;br&gt;&amp;#x5373;&amp;#x53EF;&amp;#x663E;&amp;#x793A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BC1;&amp;#x4E66;&amp;#x6307;&amp;#x7EB9;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 MD5: 97:0B:1C:...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 SHA1: 47:DF:70:...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 SHA256: 83:F9:04:...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 &amp;#x7B7E;&amp;#x540D;&amp;#x7B97;&amp;#x6CD5;&amp;#x540D;&amp;#x79F0;: SHA256withRSA&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 &amp;#x7248;&amp;#x672C;: 3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7B7E;&amp;#x540D;&lt;/strong&gt;: &amp;#x8FDB;&amp;#x5165;&amp;#x5230;&amp;#x5B58;&amp;#x653E;keystore&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x547D;&amp;#x4EE4;:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;keytool -list -v -keystore [xxx] -keypass [xxx]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x663E;&amp;#x793A;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7B7E;&amp;#x540D;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&amp;#x6548;&amp;#x679C;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;(2) RSA&lt;/strong&gt;&lt;br&gt;&amp;#x5DF2;&amp;#x7ECF;&amp;#x7F16;&amp;#x8BD1;&amp;#x6210;Apk&amp;#x7684;&amp;#x5305;, &amp;#x6211;&amp;#x4EEC;&amp;#x65E0;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;Keystore, &amp;#x4F46;&amp;#x662F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;RSA&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x7B7E;&amp;#x540D;.&lt;br&gt;&amp;#x4FEE;&amp;#x6539;Apk&amp;#x5305;&amp;#x7684;&amp;#x540E;&amp;#x7F00;&amp;#x540D;, &amp;#x4ECE;&amp;#x201D;.apk&amp;#x201D;&amp;#x53D8;&amp;#x4E3A;&amp;#x201D;&lt;strong&gt;.zip&lt;/strong&gt;&amp;#x201C;, &amp;#x89E3;&amp;#x538B;&amp;#x7F29;.&lt;br&gt;&amp;#x8FDB;&amp;#x5165;&lt;strong&gt;META-INF&lt;/strong&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x5939;, &amp;#x5373;&lt;code&gt;cd META-INF&lt;/code&gt;.&lt;br&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x547D;&amp;#x4EE4;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;keytool -printcert -file CERT.RSA&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5373;&amp;#x53EF;, &amp;#x663E;&amp;#x793A;&lt;strong&gt;Apk&amp;#x7684;&amp;#x7B7E;&amp;#x540D;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&amp;#x83B7;&amp;#x53D6;&lt;strong&gt;MD5&lt;/strong&gt;, &lt;strong&gt;SHA1&lt;/strong&gt;, &lt;strong&gt;SHA256&lt;/strong&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x5305;&amp;#x540D;&quot;&gt;&lt;a href=&quot;#&amp;#x5305;&amp;#x540D;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5305;&amp;#x540D;&quot;&gt;&lt;/a&gt;&amp;#x5305;&amp;#x540D;&lt;/h1&gt;&lt;p&gt;&amp;#x67E5;&amp;#x770B;&amp;#x5305;&amp;#x540D;&amp;#x5C31;&amp;#x4E00;&amp;#x884C;&amp;#x547D;&amp;#x4EE4;, &amp;#x663E;&amp;#x793A;Apk&amp;#x7684;&amp;#x4FE1;&amp;#x606F;.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;aapt dump badging [xxx.apk]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8F93;&amp;#x51FA;, &lt;strong&gt;package: name&lt;/strong&gt;, &amp;#x5373;&amp;#x5305;&amp;#x540D;.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;package: name=&amp;apos;xxx.xxx.xxxxx&amp;apos; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x6CE8;:&lt;/strong&gt; &amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4FEE;&amp;#x6539;&amp;#x672C;&amp;#x5730;&amp;#x5305;&amp;#x540D;, &amp;#x5339;&amp;#x914D;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#x5BC6;&amp;#x5319;.&lt;br&gt;&amp;#x4FEE;&amp;#x6539;&amp;#x5E94;&amp;#x7528;&lt;strong&gt;&amp;#x5305;&amp;#x540D;&lt;/strong&gt;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;, &amp;#x5728;&lt;strong&gt;build.gradle&lt;/strong&gt;&amp;#x4E2D;, &amp;#x6DFB;&amp;#x52A0;&lt;strong&gt;applicationId&lt;/strong&gt;, &amp;#x5373;&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;android {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    defaultConfig {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        applicationId &lt;span class=&quot;string&quot;&gt;&amp;quot;com.amap.location.demo&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x4FEE;&amp;#x6539;&amp;#x5305;&amp;#x540D;&amp;#x4E3A;&lt;strong&gt;com.amap.location.demo&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x672A;&amp;#x6DFB;&amp;#x52A0;gradle&amp;#x7684;&amp;#x53C2;&amp;#x6570;, &amp;#x9ED8;&amp;#x8BA4;&amp;#x4F4D;&amp;#x7F6E;&amp;#x662F;&lt;strong&gt;AndroidManifest.xml&lt;/strong&gt;,&lt;br&gt;&amp;#x5176;&amp;#x4E2D;manifest&amp;#x7684;package&amp;#x5C5E;&amp;#x6027;, &amp;#x8868;&amp;#x793A;&amp;#x5305;&amp;#x540D;, &amp;#x5373;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;manifest&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;package&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;wangchenlong.chunyu.me.wcl_amap_demo&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;build.gradle&lt;/strong&gt;&amp;#x7684;&amp;#x5305;&amp;#x540D;&amp;#x5C5E;&amp;#x6027;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x9AD8;&amp;#x4E8E;&lt;strong&gt;manifest&lt;/strong&gt;, &amp;#x5176;&amp;#x4ED6;&amp;#x5C5E;&amp;#x6027;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x6837;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;&amp;#x5728;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#x5E93;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x8005;&amp;#x5E73;&amp;#x53F0;&amp;#x8F93;&amp;#x5165;&amp;#x7B7E;&amp;#x540D;&amp;#x548C;&amp;#x5305;&amp;#x540D;, &amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x751F;&amp;#x6210;&amp;#x552F;&amp;#x4E00;&amp;#x5BC6;&amp;#x94A5;, &amp;#x653E;&amp;#x5230;&amp;#x7A0B;&amp;#x5E8F;&amp;#x4E2D;, &amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5E93;&amp;#x4E86;. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x7B7E;&amp;#x540D;+&amp;#x5305;&amp;#x540D;&lt;/strong&gt;, &amp;#x8868;&amp;#x660E;Apk&amp;#x7684;&amp;#x552F;&amp;#x4E00;&amp;#x8EAB;&amp;#x4EFD;, &amp;#x9632;&amp;#x6B62;&amp;#x76D7;&amp;#x7248;&amp;#x4EFF;&amp;#x5192;&amp;#x7684;Apk&amp;#x51FA;&amp;#x73B0;, &amp;#x662F;Android&amp;#x7684;&amp;#x5B89;&amp;#x5168;&amp;#x673A;&amp;#x5236;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;PS:&lt;/strong&gt; &amp;#x516C;&amp;#x53F8;&amp;#x7ECF;&amp;#x5E38;&amp;#x4F7F;&amp;#x7528;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#x5E93;, &amp;#x9700;&amp;#x8981;&amp;#x7533;&amp;#x8BF7;&amp;#x552F;&amp;#x4E00;&amp;#x7684;&amp;#x8D26;&amp;#x53F7;, &amp;#x7EDF;&amp;#x4E00;&amp;#x7BA1;&amp;#x7406;; &amp;#x4F5C;&amp;#x4E3A;&amp;#x5F00;&amp;#x53D1;&amp;#x8005;, &amp;#x5728;&amp;#x6D4B;&amp;#x8BD5;&amp;#x65F6;, &amp;#x4E5F;&amp;#x9700;&amp;#x8981;&amp;#x7533;&amp;#x8BF7;&amp;#x4E00;&amp;#x4E9B;&amp;#x6D4B;&amp;#x8BD5;Key, &amp;#x52A0;&amp;#x5FEB;&amp;#x5F00;&amp;#x53D1;&amp;#x901F;&amp;#x5EA6;. &lt;/p&gt;
&lt;p&gt;OK, that&amp;#x2019;s all! Enjoy it.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x539F;&amp;#x59CB;&amp;#x5730;&amp;#x5740;:&lt;br&gt;&lt;a href=&quot;http://www.wangchenlong.org/2016/03/12/get-app-cert-and-package/&quot;&gt;http://www.wangchenlong.org/2016/03/12/get-app-cert-and-package/&lt;/a&gt;&lt;br&gt;&amp;#x6B22;&amp;#x8FCE;Follow&amp;#x6211;&amp;#x7684;&lt;a href=&quot;https://github.com/SpikeKing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;, &amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&lt;a href=&quot;http://www.jianshu.com/users/e2b4dd6d3eb4/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x7B80;&amp;#x4E66;&lt;/a&gt;, &lt;a href=&quot;http://weibo.com/u/2852941392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5FAE;&amp;#x535A;&lt;/a&gt;, &lt;a href=&quot;http://blog.csdn.net/caroline_wendy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSDN&lt;/a&gt;, &lt;a href=&quot;http://gold.xitu.io/#/user/56de98c2f3609a005442ec58&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x6398;&amp;#x91D1;&lt;/a&gt;, &lt;a href=&quot;https://slides.com/spikeking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Slides&lt;/a&gt;.&lt;br&gt;&amp;#x6211;&amp;#x5DF2;&amp;#x59D4;&amp;#x6258;&amp;#x201C;&amp;#x7EF4;&amp;#x6743;&amp;#x9A91;&amp;#x58EB;&amp;#x201D;&amp;#x4E3A;&amp;#x6211;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x6743;&amp;#x884C;&amp;#x52A8;. &amp;#x672A;&amp;#x7ECF;&amp;#x6388;&amp;#x6743;, &amp;#x7981;&amp;#x6B62;&amp;#x8F6C;&amp;#x8F7D;, &amp;#x6388;&amp;#x6743;&amp;#x6216;&amp;#x5408;&amp;#x4F5C;&amp;#x8BF7;&amp;#x7559;&amp;#x8A00;.&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;Android&amp;#x5E94;&amp;#x7528;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#x7684;&amp;#x5E93;&amp;#x65F6;, &amp;#x53EF;&amp;#x80FD;&amp;#x9700;&amp;#x8981;&lt;strong&gt;&amp;#x7533;&amp;#x8BF7;&amp;#x5BC6;&amp;#x94A5;&lt;/strong&gt;, &amp;#x8868;&amp;#x660E;&amp;#x5E94;&amp;#x7528;&amp;#x8EAB;&amp;#x4EFD;, &amp;#x5982;&amp;#x9AD8;&amp;#x5FB7;&amp;#x5B9A;&amp;#x4F4D;SDK&amp;#x7B49;. &lt;strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x7B7E;&amp;#x540D;(printcert)&lt;/strong&gt;&amp;#x662F;&amp;#x516C;&amp;#x5F00;&amp;#x7684;, &amp;#x53EA;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5230;Apk&amp;#x5305;, &amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x516C;&amp;#x5F00;&amp;#x63D0;&amp;#x53D6;. &amp;#x7B7E;&amp;#x540D;&amp;#x4E2D;&amp;#x5305;&amp;#x542B;&lt;strong&gt;MD5&lt;/strong&gt;, &lt;strong&gt;SHA1&lt;/strong&gt;, &lt;strong&gt;SHA256&lt;/strong&gt;. &lt;strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x552F;&amp;#x4E00;&amp;#x6027;&lt;/strong&gt;&amp;#x5C31;&amp;#x662F;&amp;#x8868;&amp;#x73B0;&amp;#x4E3A;&lt;strong&gt;&amp;#x7B7E;&amp;#x540D;+&amp;#x5305;&amp;#x540D;&lt;/strong&gt;, &amp;#x5C31;&amp;#x50CF;&amp;#x4EBA;&amp;#x7684;&amp;#x6307;&amp;#x7EB9;&amp;#x4E00;&amp;#x6837;&amp;#x91CD;&amp;#x8981;, &amp;#x662F;&amp;#x786E;&amp;#x5B9A;&amp;#x5E94;&amp;#x7528;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;&amp;#x91CD;&amp;#x8981;&amp;#x4FE1;&amp;#x606F;, &amp;#x4E5F;&amp;#x662F;&lt;strong&gt;&amp;#x5E94;&amp;#x7528;&amp;#x5546;&amp;#x5E97;&lt;/strong&gt;&amp;#x68C0;&amp;#x6D4B;&amp;#x76D7;&amp;#x7248;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x9014;&amp;#x5F84;. &lt;/p&gt;
&lt;p&gt;&amp;#x672C;&amp;#x6587;&amp;#x8BB2;&amp;#x89E3;&amp;#x5982;&amp;#x4F55;&amp;#x63D0;&amp;#x53D6;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&lt;strong&gt;&amp;#x7B7E;&amp;#x540D;&amp;#x548C;&amp;#x5305;&amp;#x540D;&lt;/strong&gt;.&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://www.wangchenlong.org/categories/Android/"/>
    
    
      <category term="Android" scheme="http://www.wangchenlong.org/tags/Android/"/>
    
      <category term="应用" scheme="http://www.wangchenlong.org/tags/%E5%BA%94%E7%94%A8/"/>
    
      <category term="私钥" scheme="http://www.wangchenlong.org/tags/%E7%A7%81%E9%92%A5/"/>
    
      <category term="签名" scheme="http://www.wangchenlong.org/tags/%E7%AD%BE%E5%90%8D/"/>
    
      <category term="MD5" scheme="http://www.wangchenlong.org/tags/MD5/"/>
    
      <category term="SHA1" scheme="http://www.wangchenlong.org/tags/SHA1/"/>
    
      <category term="SHA256" scheme="http://www.wangchenlong.org/tags/SHA256/"/>
    
      <category term="包名" scheme="http://www.wangchenlong.org/tags/%E5%8C%85%E5%90%8D/"/>
    
  </entry>
  
</feed>
